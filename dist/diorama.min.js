var Diorama=function(){"use strict";function e(e){return new Promise(function(t,r){if(o.models[e])return t(o.models[e]);if(/\.gltf$/i.test(e))if(THREE.glTFLoader){var n=new THREE.glTFLoader;n.load(e,function(r){return o.models[e]=r.scene.children[0].children[0],t(o.models[e])})}else console.error('THREE.glTFLoader not found. "'+e+'" not loaded.'),r();else if(/\.dae$/i.test(e))if(THREE.ColladaLoader){var i=new THREE.ColladaLoader;i.load(e,function(r){return o.models[e]=r.scene.children[0],t(r.scene.children[0])},null,r)}else console.error('THREE.ColladaLoader not found. "'+e+'" not loaded.'),r()})}function t(e){return new Promise(function(t,r){if(o.textures[e])return t(o.textures[e]);var n=new THREE.TextureLoader;n.load(e,function(r){return o.textures[e]=r,t(r)},null,r)})}function r(e){return new Promise(function(r,n){return o.posters[e]?r(o.posters[e]):new t(e).then(function(t){var n,i=t.image.width/t.image.height,s=new THREE.MeshBasicMaterial({map:t,side:THREE.DoubleSide});return n=i>1?new THREE.PlaneGeometry(1,1/i):new THREE.PlaneGeometry(i,1),o.posters[e]=new THREE.Mesh(n,s),r(o.posters[e])})})}var o={models:{},textures:{},posters:{}},n=function(e){function t(t,r,o){e.call(this,-1,1,1,-1,.1,400);var n=window.localStorage.getItem("dioramaViewSettings");n&&(n=JSON.parse(n),t||(t=(new THREE.Vector3).fromArray(n.focus)),r||(r=n.viewSize),o||(o=(new THREE.Vector3).fromArray(n.lookDirection))),this._viewSize=r||40,this._focus=t||new THREE.Vector3,this._lookDirection=o||new THREE.Vector3(0,-1,0),this.gridHelper=new THREE.GridHelper(300,1)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={viewSize:{},focus:{},lookDirection:{}};return r.viewSize.get=function(){return this._viewSize},r.viewSize.set=function(e){this._viewSize=e,this.recomputeViewport()},r.focus.get=function(){return this._focus},r.focus.set=function(e){this._focus.copy(e),this.recomputeViewport()},r.lookDirection.get=function(){return this._lookDirection},r.lookDirection.set=function(e){this._lookDirection.copy(e),this.recomputeViewport()},t.prototype.registerHooks=function(e){var t=this;t.renderer=e,document.body.parentElement.style.height="100%",document.body.style.height="100%",document.body.style.margin="0",document.body.style.overflow="hidden";var r=document.createElement("p");r.innerHTML=["Middle click and drag to pan","Mouse wheel to zoom","Arrow keys to rotate"].join("<br/>"),Object.assign(r.style,{position:"fixed",top:"10px",left:"10px",margin:0}),document.body.appendChild(r),window.addEventListener("resize",function(e){return t.recomputeViewport()}),t.recomputeViewport();var o=null,n=null;window.addEventListener("mousedown",function(e){1===e.button&&(o={x:e.clientX,y:e.clientY},n=t._focus.clone())}),window.addEventListener("mouseup",function(e){1===e.button&&(o=null,n=null)}),window.addEventListener("mousemove",function(e){if(o){var r=document.body,i=r.clientWidth,s=r.clientHeight,a=Math.sqrt(i*i+s*s)/t._viewSize,c=e.clientX-o.x,l=e.clientY-o.y,u=(new THREE.Vector3).crossVectors(t._lookDirection,t.up);t._focus.copy(n).add(t.up.clone().multiplyScalar(l/a)).add(u.multiplyScalar(-c/a)),t.recomputeViewport()}}),window.addEventListener("wheel",function(e){e.deltaY<0?(t._viewSize*=.9,t.recomputeViewport()):e.deltaY>0&&(t._viewSize*=1.1,t.recomputeViewport())}),window.addEventListener("keydown",function(e){if("ArrowDown"===e.key){var r=(new THREE.Vector3).crossVectors(t._lookDirection,t.up);t._lookDirection.applyAxisAngle(r,Math.PI/2),t.recomputeViewport()}else if("ArrowUp"===e.key){var o=(new THREE.Vector3).crossVectors(t._lookDirection,t.up);t._lookDirection.applyAxisAngle(o,-Math.PI/2),t.recomputeViewport()}else"ArrowLeft"===e.key?(t._lookDirection.applyAxisAngle(t.up,-Math.PI/2),t.recomputeViewport()):"ArrowRight"===e.key&&(t._lookDirection.applyAxisAngle(t.up,Math.PI/2),t.recomputeViewport())})},t.prototype.recomputeViewport=function(){var e=document.body,t=e.clientWidth,r=e.clientHeight;this.renderer.setSize(t,r);var o=t/r,n=Math.sqrt(this._viewSize*this._viewSize/(o*o+1)),i=o*n;this.left=-i/2,this.right=i/2,this.top=n/2,this.bottom=-n/2,this.updateProjectionMatrix(),this.position.copy(this._focus).sub(this._lookDirection.clone().multiplyScalar(200)),1===Math.abs(this._lookDirection.normalize().dot(new THREE.Vector3(0,-1,0)))?this.up.set(0,0,1):this.up.set(0,1,0),this.lookAt(this._focus),window.localStorage.setItem("dioramaViewSettings",JSON.stringify({focus:this._focus.toArray(),viewSize:this._viewSize,lookDirection:this._lookDirection.toArray()}))},Object.defineProperties(t.prototype,r),t}(THREE.OrthographicCamera),i=function(e){void 0===e&&(e={});var t=e.bgColor;void 0===t&&(t=11184810);var r=e.gridOffset;void 0===r&&(r=[0,0,0]);var i=e.fullspace;void 0===i&&(i=!1);var s=this;s._cache=o,s.scene=new THREE.Scene,altspace.inClient?(s.renderer=altspace.getThreeJSRenderer(),s._envPromise=Promise.all([altspace.getEnclosure(),altspace.getSpace()]).then(function(e){function t(){s.scene.scale.setScalar(r.pixelsPerMeter),s.env=Object.freeze(Object.assign({},r,o))}var r=e[0],o=e[1];t(),i?(s._fsPromise=r.requestFullspace().catch(function(e){return console.log("Request for fullspace denied")}),r.addEventListener("fullspacechange",t)):s._fsPromise=Promise.resolve()})):(s.renderer=new THREE.WebGLRenderer,s.renderer.setSize(document.body.clientWidth,document.body.clientHeight),s.renderer.setClearColor(t),document.body.appendChild(s.renderer.domElement),s.previewCamera=new n,s.previewCamera.gridHelper.position.fromArray(r),s.scene.add(s.previewCamera,s.previewCamera.gridHelper),s.previewCamera.registerHooks(s.renderer),altspace.utilities.shims.cursor.init(s.scene,s.previewCamera,{renderer:s.renderer}),s.env=Object.freeze({innerWidth:1024,innerHeight:1024,innerDepth:1024,pixelsPerMeter:i?1:1024/3,sid:"browser",name:"browser",templateSid:"browser"}),s._envPromise=Promise.resolve(),s._fsPromise=Promise.resolve())};return i.prototype.start=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=this,o={};e.forEach(function(e){function t(e){void 0===o[e]?o[e]=!0:o[e]===!0&&(o[e]=!1)}Object.keys(e.assets.textures||{}).map(function(t){return e.assets.textures[t]}).forEach(t),Object.keys(e.assets.models||{}).map(function(t){return e.assets.models[t]}).forEach(t),Object.keys(e.assets.posters||{}).map(function(t){return e.assets.posters[t]}).forEach(t)});var n=e.reduce(function(e,t){return e||t.needsSkeleton},!1);n&&altspace.inClient?r._skelPromise=altspace.getThreeJSTrackingSkeleton().then(function(e){r.scene.add(e),r.env.skel=e}):r._skelPromise=Promise.resolve(),Promise.all([r._envPromise,r._fsPromise,r._skelPromise]).then(function(){e.forEach(function(e){var t=null;if(e instanceof THREE.Object3D?t=e:(t=new THREE.Object3D,e.transform?(t.matrix.fromArray(e.transform),t.matrix.decompose(t.position,t.quaternion,t.scale)):(e.position&&t.position.fromArray(e.position),e.rotation&&t.rotation.fromArray(e.rotation))),e.verticalAlign){var n=r.env.innerHeight/(2*r.env.pixelsPerMeter);switch(e.verticalAlign){case"top":t.translateY(n);break;case"bottom":t.translateY(-n);break;case"middle":break;default:console.warn('Invalid value for "verticalAlign" - ',e.verticalAlign)}}r.scene.add(t),r.previewCamera&&t.add(new THREE.AxisHelper(1)),r.loadAssets(e.assets,o).then(function(o){e.initialize(r.env,t,o)})})}),window.requestAnimationFrame(function e(t){window.requestAnimationFrame(e),r.scene.updateAllBehaviors(),window.TWEEN&&TWEEN.update(),r.renderer.render(r.scene,r.previewCamera)})},i.prototype.loadAssets=function(n,i){return new Promise(function(s,a){Promise.all(Object.keys(n.models||{}).map(function(t){return e(n.models[t])}).concat(Object.keys(n.textures||{}).map(function(e){return t(n.textures[e])}),Object.keys(n.posters||{}).map(function(e){return r(n.posters[e])}))).then(function(){var e={models:{},textures:{},posters:{}};for(var t in n.models){var r=n.models[t],a=o.models[r];e.models[t]=a?i[r]?a:a.clone():null}for(var c in n.textures){var l=n.textures[c],u=o.textures[l];e.textures[c]=u?i[l]?u:u.clone():null}for(var d in n.posters){var p=n.posters[d],m=o.posters[p];e.posters[d]=m?i[p]?m:m.clone():null}s(e)}).catch(function(e){return console.error(e)})})},i}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjpudWxsLCJzb3VyY2VzIjpbIi4uL3NyYy9sb2FkZXJzLmpzIiwiLi4vc3JjL2NhbWVyYS5qcyIsIi4uL3NyYy9tYWluLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxubGV0IGNhY2hlID0ge21vZGVsczoge30sIHRleHR1cmVzOiB7fSwgcG9zdGVyczoge319O1xuXG5mdW5jdGlvbiBNb2RlbFByb21pc2UodXJsKVxue1xuXHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT5cblx0e1xuXHRcdGlmKGNhY2hlLm1vZGVsc1t1cmxdKXtcblx0XHRcdHJldHVybiByZXNvbHZlKGNhY2hlLm1vZGVsc1t1cmxdKTtcblx0XHR9XG5cblx0XHQvLyBOT1RFOiBnbFRGIGxvYWRlciBkb2VzIG5vdCBjYXRjaCBlcnJvcnNcblx0XHRlbHNlIGlmKC9cXC5nbHRmJC9pLnRlc3QodXJsKSl7XG5cdFx0XHRpZihUSFJFRS5nbFRGTG9hZGVyKXtcblx0XHRcdFx0bGV0IGxvYWRlciA9IG5ldyBUSFJFRS5nbFRGTG9hZGVyKCk7XG5cdFx0XHRcdGxvYWRlci5sb2FkKHVybCwgKHJlc3VsdCkgPT4ge1xuXHRcdFx0XHRcdGNhY2hlLm1vZGVsc1t1cmxdID0gcmVzdWx0LnNjZW5lLmNoaWxkcmVuWzBdLmNoaWxkcmVuWzBdO1xuXHRcdFx0XHRcdHJldHVybiByZXNvbHZlKGNhY2hlLm1vZGVsc1t1cmxdKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0Y29uc29sZS5lcnJvcihgVEhSRUUuZ2xURkxvYWRlciBub3QgZm91bmQuIFwiJHt1cmx9XCIgbm90IGxvYWRlZC5gKTtcblx0XHRcdFx0cmVqZWN0KCk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0ZWxzZSBpZigvXFwuZGFlJC9pLnRlc3QodXJsKSl7XG5cdFx0XHRpZihUSFJFRS5Db2xsYWRhTG9hZGVyKXtcblx0XHRcdFx0bGV0IGxvYWRlciA9IG5ldyBUSFJFRS5Db2xsYWRhTG9hZGVyKCk7XG5cdFx0XHRcdGxvYWRlci5sb2FkKHVybCwgcmVzdWx0ID0+IHtcblx0XHRcdFx0XHRjYWNoZS5tb2RlbHNbdXJsXSA9IHJlc3VsdC5zY2VuZS5jaGlsZHJlblswXTtcblx0XHRcdFx0XHRyZXR1cm4gcmVzb2x2ZShyZXN1bHQuc2NlbmUuY2hpbGRyZW5bMF0pXG5cdFx0XHRcdH0sIG51bGwsIHJlamVjdCk7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0Y29uc29sZS5lcnJvcihgVEhSRUUuQ29sbGFkYUxvYWRlciBub3QgZm91bmQuIFwiJHt1cmx9XCIgbm90IGxvYWRlZC5gKTtcblx0XHRcdFx0cmVqZWN0KCk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9KTtcbn1cblxuZnVuY3Rpb24gVGV4dHVyZVByb21pc2UodXJsKXtcblx0cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+XG5cdHtcblx0XHRpZihjYWNoZS50ZXh0dXJlc1t1cmxdKVxuXHRcdFx0cmV0dXJuIHJlc29sdmUoY2FjaGUudGV4dHVyZXNbdXJsXSk7XG5cdFx0ZWxzZSB7XG5cdFx0XHRsZXQgbG9hZGVyID0gbmV3IFRIUkVFLlRleHR1cmVMb2FkZXIoKTtcblx0XHRcdGxvYWRlci5sb2FkKHVybCwgdGV4dHVyZSA9PiB7XG5cdFx0XHRcdGNhY2hlLnRleHR1cmVzW3VybF0gPSB0ZXh0dXJlO1xuXHRcdFx0XHRyZXR1cm4gcmVzb2x2ZSh0ZXh0dXJlKTtcblx0XHRcdH0sIG51bGwsIHJlamVjdCk7XG5cdFx0fVxuXHR9KTtcbn1cblxuY2xhc3MgVmlkZW9Qcm9taXNlIGV4dGVuZHMgUHJvbWlzZSB7XG5cdGNvbnN0cnVjdG9yKHVybClcblx0e1xuXHRcdC8vIHN0YXJ0IGxvYWRlclxuXHRcdHZhciB2aWRTcmMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd2aWRlbycpO1xuXHRcdHZpZFNyYy5hdXRvcGxheSA9IHRydWU7XG5cdFx0dmlkU3JjLmxvb3AgPSB0cnVlO1xuXHRcdHZpZFNyYy5zcmMgPSB1cmw7XG5cdFx0dmlkU3JjLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cdFx0ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh2aWRTcmMpO1xuXG5cdFx0dmFyIHRleCA9IG5ldyBUSFJFRS5WaWRlb1RleHR1cmUodmlkU3JjKTtcblx0XHR0ZXgubWluRmlsdGVyID0gVEhSRUUuTGluZWFyRmlsdGVyO1xuXHRcdHRleC5tYWdGaWx0ZXIgPSBUSFJFRS5MaW5lYXJGaWx0ZXI7XG5cdFx0dGV4LmZvcm1hdCA9IFRIUkVFLlJHQkZvcm1hdDtcblxuXHRcdC8vY2FjaGUudmlkZW9zW3VybF0gPSB0ZXg7XG5cdFx0Ly9wYXlsb2FkLnZpZGVvc1tpZF0gPSBjYWNoZS52aWRlb3NbdXJsXTtcblxuXHRcdHJldHVybiBQcm9taXNlLnJlc29sdmUodGV4KTtcblx0fVxufVxuXG5mdW5jdGlvbiBQb3N0ZXJQcm9taXNlKHVybCl7XG5cdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PlxuXHR7XG5cdFx0aWYoY2FjaGUucG9zdGVyc1t1cmxdKVxuXHRcdFx0cmV0dXJuIHJlc29sdmUoY2FjaGUucG9zdGVyc1t1cmxdKTtcblx0XHRlbHNlIHJldHVybiAobmV3IFRleHR1cmVQcm9taXNlKHVybCkpLnRoZW4odGV4ID0+XG5cdFx0XHR7XG5cdFx0XHRcdGxldCByYXRpbyA9IHRleC5pbWFnZS53aWR0aCAvIHRleC5pbWFnZS5oZWlnaHQ7XG5cdFx0XHRcdGxldCBnZW8sIG1hdCA9IG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCh7bWFwOiB0ZXgsIHNpZGU6IFRIUkVFLkRvdWJsZVNpZGV9KTtcblxuXHRcdFx0XHRpZihyYXRpbyA+IDEpe1xuXHRcdFx0XHRcdGdlbyA9IG5ldyBUSFJFRS5QbGFuZUdlb21ldHJ5KDEsIDEvcmF0aW8pO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGVsc2Uge1xuXHRcdFx0XHRcdGdlbyA9IG5ldyBUSFJFRS5QbGFuZUdlb21ldHJ5KHJhdGlvLCAxKTtcblx0XHRcdFx0fVxuXHRcdFx0XG5cdFx0XHRcdGNhY2hlLnBvc3RlcnNbdXJsXSA9IG5ldyBUSFJFRS5NZXNoKGdlbywgbWF0KTtcblx0XHRcdFx0cmV0dXJuIHJlc29sdmUoY2FjaGUucG9zdGVyc1t1cmxdKTtcblx0XHRcdH1cblx0XHQpO1xuXHR9KTtcbn1cblxuZXhwb3J0IHsgTW9kZWxQcm9taXNlLCBUZXh0dXJlUHJvbWlzZSwgVmlkZW9Qcm9taXNlLCBQb3N0ZXJQcm9taXNlLCBjYWNoZSBhcyBfY2FjaGUgfTtcblxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQcmV2aWV3Q2FtZXJhIGV4dGVuZHMgVEhSRUUuT3J0aG9ncmFwaGljQ2FtZXJhXG57XG5cdGNvbnN0cnVjdG9yKGZvY3VzLCB2aWV3U2l6ZSwgbG9va0RpcmVjdGlvbilcblx0e1xuXHRcdHN1cGVyKC0xLCAxLCAxLCAtMSwgLjEsIDQwMCk7XG5cblx0XHRsZXQgc2V0dGluZ3MgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2Rpb3JhbWFWaWV3U2V0dGluZ3MnKTtcblx0XHRpZihzZXR0aW5ncyl7XG5cdFx0XHRzZXR0aW5ncyA9IEpTT04ucGFyc2Uoc2V0dGluZ3MpO1xuXHRcdFx0aWYoIWZvY3VzKVxuXHRcdFx0XHRmb2N1cyA9IG5ldyBUSFJFRS5WZWN0b3IzKCkuZnJvbUFycmF5KHNldHRpbmdzLmZvY3VzKTtcblx0XHRcdGlmKCF2aWV3U2l6ZSlcblx0XHRcdFx0dmlld1NpemUgPSBzZXR0aW5ncy52aWV3U2l6ZTtcblx0XHRcdGlmKCFsb29rRGlyZWN0aW9uKVxuXHRcdFx0XHRsb29rRGlyZWN0aW9uID0gbmV3IFRIUkVFLlZlY3RvcjMoKS5mcm9tQXJyYXkoc2V0dGluZ3MubG9va0RpcmVjdGlvbik7XG5cdFx0fVxuXG5cdFx0dGhpcy5fdmlld1NpemUgPSB2aWV3U2l6ZSB8fCA0MDtcblx0XHR0aGlzLl9mb2N1cyA9IGZvY3VzIHx8IG5ldyBUSFJFRS5WZWN0b3IzKCk7XG5cdFx0dGhpcy5fbG9va0RpcmVjdGlvbiA9IGxvb2tEaXJlY3Rpb24gfHwgbmV3IFRIUkVFLlZlY3RvcjMoMCwtMSwwKTtcblx0XHR0aGlzLmdyaWRIZWxwZXIgPSBuZXcgVEhSRUUuR3JpZEhlbHBlcigzMDAsIDEpO1xuXHRcdC8vdGhpcy5ncmlkSGVscGVyLnF1YXRlcm5pb24uc2V0RnJvbVVuaXRWZWN0b3JzKCBuZXcgVEhSRUUuVmVjdG9yMygwLC0xLDApLCB0aGlzLl9sb29rRGlyZWN0aW9uICk7XG5cdH1cblxuXHRnZXQgdmlld1NpemUoKXtcblx0XHRyZXR1cm4gdGhpcy5fdmlld1NpemU7XG5cdH1cblx0c2V0IHZpZXdTaXplKHZhbCl7XG5cdFx0dGhpcy5fdmlld1NpemUgPSB2YWw7XG5cdFx0dGhpcy5yZWNvbXB1dGVWaWV3cG9ydCgpO1xuXHR9XG5cblx0Z2V0IGZvY3VzKCl7XG5cdFx0cmV0dXJuIHRoaXMuX2ZvY3VzO1xuXHR9XG5cdHNldCBmb2N1cyh2YWwpe1xuXHRcdHRoaXMuX2ZvY3VzLmNvcHkodmFsKTtcblx0XHR0aGlzLnJlY29tcHV0ZVZpZXdwb3J0KCk7XG5cdH1cblxuXHRnZXQgbG9va0RpcmVjdGlvbigpe1xuXHRcdHJldHVybiB0aGlzLl9sb29rRGlyZWN0aW9uO1xuXHR9XG5cdHNldCBsb29rRGlyZWN0aW9uKHZhbCl7XG5cdFx0dGhpcy5fbG9va0RpcmVjdGlvbi5jb3B5KHZhbCk7XG5cdFx0dGhpcy5yZWNvbXB1dGVWaWV3cG9ydCgpO1xuXHR9XG5cblx0cmVnaXN0ZXJIb29rcyhyZW5kZXJlcilcblx0e1xuXHRcdHZhciBzZWxmID0gdGhpcztcblx0XHRzZWxmLnJlbmRlcmVyID0gcmVuZGVyZXI7XG5cblx0XHQvLyBzZXQgc3R5bGVzIG9uIHRoZSBwYWdlLCBzbyB0aGUgcHJldmlldyB3b3JrcyByaWdodFxuXHRcdGRvY3VtZW50LmJvZHkucGFyZW50RWxlbWVudC5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XG5cdFx0ZG9jdW1lbnQuYm9keS5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XG5cdFx0ZG9jdW1lbnQuYm9keS5zdHlsZS5tYXJnaW4gPSAnMCc7XG5cdFx0ZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuXG5cdFx0dmFyIGluZm8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG5cdFx0aW5mby5pbm5lckhUTUwgPSBbJ01pZGRsZSBjbGljayBhbmQgZHJhZyB0byBwYW4nLCAnTW91c2Ugd2hlZWwgdG8gem9vbScsICdBcnJvdyBrZXlzIHRvIHJvdGF0ZSddLmpvaW4oJzxici8+Jyk7XG5cdFx0T2JqZWN0LmFzc2lnbihpbmZvLnN0eWxlLCB7XG5cdFx0XHRwb3NpdGlvbjogJ2ZpeGVkJyxcblx0XHRcdHRvcDogJzEwcHgnLFxuXHRcdFx0bGVmdDogJzEwcHgnLFxuXHRcdFx0bWFyZ2luOiAwXG5cdFx0fSk7XG5cdFx0ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChpbmZvKTtcblxuXHRcdC8vIHJlc2l6ZSB0aGUgcHJldmlldyBjYW52YXMgd2hlbiB3aW5kb3cgcmVzaXplc1xuXHRcdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBlID0+IHNlbGYucmVjb21wdXRlVmlld3BvcnQoKSk7XG5cdFx0c2VsZi5yZWNvbXB1dGVWaWV3cG9ydCgpO1xuXG5cdFx0Ly8gbWlkZGxlIGNsaWNrIGFuZCBkcmFnIHRvIHBhbiB2aWV3XG5cdFx0dmFyIGRyYWdTdGFydCA9IG51bGwsIGZvY3VzU3RhcnQgPSBudWxsO1xuXHRcdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBlID0+IHtcblx0XHRcdGlmKGUuYnV0dG9uID09PSAxKXtcblx0XHRcdFx0ZHJhZ1N0YXJ0ID0ge3g6IGUuY2xpZW50WCwgeTogZS5jbGllbnRZfTtcblx0XHRcdFx0Zm9jdXNTdGFydCA9IHNlbGYuX2ZvY3VzLmNsb25lKCk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBlID0+IHtcblx0XHRcdGlmKGUuYnV0dG9uID09PSAxKXtcblx0XHRcdFx0ZHJhZ1N0YXJ0ID0gbnVsbDtcblx0XHRcdFx0Zm9jdXNTdGFydCA9IG51bGw7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIGUgPT4ge1xuXHRcdFx0aWYoZHJhZ1N0YXJ0KVxuXHRcdFx0e1xuXHRcdFx0XHRsZXQge2NsaWVudFdpZHRoOiB3LCBjbGllbnRIZWlnaHQ6IGh9ID0gZG9jdW1lbnQuYm9keTtcblx0XHRcdFx0bGV0IHBpeGVsc1Blck1ldGVyID0gTWF0aC5zcXJ0KHcqdytoKmgpIC8gc2VsZi5fdmlld1NpemU7XG5cdFx0XHRcdGxldCBkeCA9IGUuY2xpZW50WCAtIGRyYWdTdGFydC54LCBkeSA9IGUuY2xpZW50WSAtIGRyYWdTdGFydC55O1xuXHRcdFx0XHRsZXQgcmlnaHQgPSBuZXcgVEhSRUUuVmVjdG9yMygpLmNyb3NzVmVjdG9ycyhzZWxmLl9sb29rRGlyZWN0aW9uLCBzZWxmLnVwKTtcblxuXHRcdFx0XHRzZWxmLl9mb2N1cy5jb3B5KGZvY3VzU3RhcnQpXG5cdFx0XHRcdFx0LmFkZChzZWxmLnVwLmNsb25lKCkubXVsdGlwbHlTY2FsYXIoZHkvcGl4ZWxzUGVyTWV0ZXIpKVxuXHRcdFx0XHRcdC5hZGQocmlnaHQubXVsdGlwbHlTY2FsYXIoLWR4L3BpeGVsc1Blck1ldGVyKSk7XG5cblx0XHRcdFx0c2VsZi5yZWNvbXB1dGVWaWV3cG9ydCgpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0Ly8gd2hlZWwgdG8gem9vbVxuXHRcdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd3aGVlbCcsIGUgPT4ge1xuXHRcdFx0aWYoZS5kZWx0YVkgPCAwKXtcblx0XHRcdFx0c2VsZi5fdmlld1NpemUgKj0gMC45MDtcblx0XHRcdFx0c2VsZi5yZWNvbXB1dGVWaWV3cG9ydCgpO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSBpZihlLmRlbHRhWSA+IDApe1xuXHRcdFx0XHRzZWxmLl92aWV3U2l6ZSAqPSAxLjE7XG5cdFx0XHRcdHNlbGYucmVjb21wdXRlVmlld3BvcnQoKTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdC8vIGFycm93IGtleXMgdG8gcm90YXRlXG5cdFx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBlID0+IHtcblx0XHRcdGlmKGUua2V5ID09PSAnQXJyb3dEb3duJyl7XG5cdFx0XHRcdGxldCByaWdodCA9IG5ldyBUSFJFRS5WZWN0b3IzKCkuY3Jvc3NWZWN0b3JzKHNlbGYuX2xvb2tEaXJlY3Rpb24sIHNlbGYudXApO1xuXHRcdFx0XHRzZWxmLl9sb29rRGlyZWN0aW9uLmFwcGx5QXhpc0FuZ2xlKHJpZ2h0LCBNYXRoLlBJLzIpO1xuXHRcdFx0XHQvL3NlbGYuZ3JpZEhlbHBlci5yb3RhdGVPbkF4aXMocmlnaHQsIE1hdGguUEkvMik7XG5cdFx0XHRcdHNlbGYucmVjb21wdXRlVmlld3BvcnQoKTtcblx0XHRcdH1cblx0XHRcdGVsc2UgaWYoZS5rZXkgPT09ICdBcnJvd1VwJyl7XG5cdFx0XHRcdGxldCByaWdodCA9IG5ldyBUSFJFRS5WZWN0b3IzKCkuY3Jvc3NWZWN0b3JzKHNlbGYuX2xvb2tEaXJlY3Rpb24sIHNlbGYudXApO1xuXHRcdFx0XHRzZWxmLl9sb29rRGlyZWN0aW9uLmFwcGx5QXhpc0FuZ2xlKHJpZ2h0LCAtTWF0aC5QSS8yKTtcblx0XHRcdFx0Ly9zZWxmLmdyaWRIZWxwZXIucm90YXRlT25BeGlzKHJpZ2h0LCAtTWF0aC5QSS8yKTtcblx0XHRcdFx0c2VsZi5yZWNvbXB1dGVWaWV3cG9ydCgpO1xuXG5cdFx0XHR9XG5cdFx0XHRlbHNlIGlmKGUua2V5ID09PSAnQXJyb3dMZWZ0Jyl7XG5cdFx0XHRcdHNlbGYuX2xvb2tEaXJlY3Rpb24uYXBwbHlBeGlzQW5nbGUoc2VsZi51cCwgLU1hdGguUEkvMik7XG5cdFx0XHRcdC8vc2VsZi5ncmlkSGVscGVyLnJvdGF0ZU9uQXhpcyhzZWxmLnVwLCAtTWF0aC5QSS8yKTtcblx0XHRcdFx0c2VsZi5yZWNvbXB1dGVWaWV3cG9ydCgpO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSBpZihlLmtleSA9PT0gJ0Fycm93UmlnaHQnKXtcblx0XHRcdFx0c2VsZi5fbG9va0RpcmVjdGlvbi5hcHBseUF4aXNBbmdsZShzZWxmLnVwLCBNYXRoLlBJLzIpO1xuXHRcdFx0XHQvL3NlbGYuZ3JpZEhlbHBlci5yb3RhdGVPbkF4aXMoc2VsZi51cCwgTWF0aC5QSS8yKTtcblx0XHRcdFx0c2VsZi5yZWNvbXB1dGVWaWV3cG9ydCgpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cblx0cmVjb21wdXRlVmlld3BvcnQoKVxuXHR7XG5cdFx0dmFyIHtjbGllbnRXaWR0aDogdywgY2xpZW50SGVpZ2h0OiBofSA9IGRvY3VtZW50LmJvZHk7XG5cblx0XHQvLyByZXNpemUgY2FudmFzXG5cdFx0dGhpcy5yZW5kZXJlci5zZXRTaXplKHcsIGgpO1xuXG5cdFx0Ly8gY29tcHV0ZSB3aW5kb3cgZGltZW5zaW9ucyBmcm9tIHZpZXcgc2l6ZVxuXHRcdHZhciByYXRpbyA9IHcvaDtcblx0XHR2YXIgaGVpZ2h0ID0gTWF0aC5zcXJ0KCAodGhpcy5fdmlld1NpemUqdGhpcy5fdmlld1NpemUpIC8gKHJhdGlvKnJhdGlvICsgMSkgKTtcblx0XHR2YXIgd2lkdGggPSByYXRpbyAqIGhlaWdodDtcblxuXHRcdC8vIHNldCBmcnVzdHJ1bSBlZGdlc1xuXHRcdHRoaXMubGVmdCA9IC13aWR0aC8yO1xuXHRcdHRoaXMucmlnaHQgPSB3aWR0aC8yO1xuXHRcdHRoaXMudG9wID0gaGVpZ2h0LzI7XG5cdFx0dGhpcy5ib3R0b20gPSAtaGVpZ2h0LzI7XG5cblx0XHR0aGlzLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcblxuXHRcdC8vIHVwZGF0ZSBwb3NpdGlvblxuXHRcdHRoaXMucG9zaXRpb24uY29weSh0aGlzLl9mb2N1cykuc3ViKCB0aGlzLl9sb29rRGlyZWN0aW9uLmNsb25lKCkubXVsdGlwbHlTY2FsYXIoMjAwKSApO1xuXHRcdGlmKCBNYXRoLmFicyggdGhpcy5fbG9va0RpcmVjdGlvbi5ub3JtYWxpemUoKS5kb3QobmV3IFRIUkVFLlZlY3RvcjMoMCwtMSwwKSkgKSA9PT0gMSApXG5cdFx0XHR0aGlzLnVwLnNldCgwLDAsMSk7IC8vIGlmIHdlJ3JlIGxvb2tpbmcgZG93biB0aGUgWSBheGlzXG5cdFx0ZWxzZVxuXHRcdFx0dGhpcy51cC5zZXQoMCwxLDApO1xuXHRcdHRoaXMubG9va0F0KCB0aGlzLl9mb2N1cyApO1xuXG5cdFx0d2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCdkaW9yYW1hVmlld1NldHRpbmdzJywgSlNPTi5zdHJpbmdpZnkoe1xuXHRcdFx0Zm9jdXM6IHRoaXMuX2ZvY3VzLnRvQXJyYXkoKSxcblx0XHRcdHZpZXdTaXplOiB0aGlzLl92aWV3U2l6ZSxcblx0XHRcdGxvb2tEaXJlY3Rpb246IHRoaXMuX2xvb2tEaXJlY3Rpb24udG9BcnJheSgpXG5cdFx0fSkpO1xuXHR9XG59XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCAqIGFzIExvYWRlcnMgZnJvbSAnLi9sb2FkZXJzJztcbmltcG9ydCBQcmV2aWV3Q2FtZXJhIGZyb20gJy4vY2FtZXJhJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRGlvcmFtYVxue1xuXHRjb25zdHJ1Y3Rvcih7YmdDb2xvcj0weGFhYWFhYSwgZ3JpZE9mZnNldD1bMCwwLDBdLCBmdWxsc3BhY2U9ZmFsc2V9ID0ge30pXG5cdHtcblx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFx0c2VsZi5fY2FjaGUgPSBMb2FkZXJzLl9jYWNoZTtcblx0XHRzZWxmLnNjZW5lID0gbmV3IFRIUkVFLlNjZW5lKCk7XG5cblx0XHQvLyBzZXQgdXAgcmVuZGVyZXIgYW5kIHNjYWxlXG5cdFx0aWYoYWx0c3BhY2UuaW5DbGllbnQpXG5cdFx0e1xuXHRcdFx0c2VsZi5yZW5kZXJlciA9IGFsdHNwYWNlLmdldFRocmVlSlNSZW5kZXJlcigpO1xuXHRcdFx0c2VsZi5fZW52UHJvbWlzZSA9IFByb21pc2UuYWxsKFthbHRzcGFjZS5nZXRFbmNsb3N1cmUoKSwgYWx0c3BhY2UuZ2V0U3BhY2UoKV0pXG5cdFx0XHQudGhlbigoW2UsIHNdKSA9PiB7XG5cblx0XHRcdFx0ZnVuY3Rpb24gYWRqdXN0U2NhbGUoKXtcblx0XHRcdFx0XHRzZWxmLnNjZW5lLnNjYWxlLnNldFNjYWxhcihlLnBpeGVsc1Blck1ldGVyKTtcblx0XHRcdFx0XHRzZWxmLmVudiA9IE9iamVjdC5mcmVlemUoT2JqZWN0LmFzc2lnbih7fSwgZSwgcykpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGFkanVzdFNjYWxlKCk7XG5cblx0XHRcdFx0aWYoZnVsbHNwYWNlKXtcblx0XHRcdFx0XHRzZWxmLl9mc1Byb21pc2UgPSBlLnJlcXVlc3RGdWxsc3BhY2UoKS5jYXRjaCgoZSkgPT4gY29uc29sZS5sb2coJ1JlcXVlc3QgZm9yIGZ1bGxzcGFjZSBkZW5pZWQnKSk7XG5cdFx0XHRcdFx0ZS5hZGRFdmVudExpc3RlbmVyKCdmdWxsc3BhY2VjaGFuZ2UnLCBhZGp1c3RTY2FsZSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdHNlbGYuX2ZzUHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZSgpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdGVsc2Vcblx0XHR7XG5cdFx0XHQvLyBzZXQgdXAgcHJldmlldyByZW5kZXJlciwgaW4gY2FzZSB3ZSdyZSBvdXQgb2Ygd29ybGRcblx0XHRcdHNlbGYucmVuZGVyZXIgPSBuZXcgVEhSRUUuV2ViR0xSZW5kZXJlcigpO1xuXHRcdFx0c2VsZi5yZW5kZXJlci5zZXRTaXplKGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGgsIGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0KTtcblx0XHRcdHNlbGYucmVuZGVyZXIuc2V0Q2xlYXJDb2xvciggYmdDb2xvciApO1xuXHRcdFx0ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzZWxmLnJlbmRlcmVyLmRvbUVsZW1lbnQpO1xuXG5cdFx0XHRzZWxmLnByZXZpZXdDYW1lcmEgPSBuZXcgUHJldmlld0NhbWVyYSgpO1xuXHRcdFx0c2VsZi5wcmV2aWV3Q2FtZXJhLmdyaWRIZWxwZXIucG9zaXRpb24uZnJvbUFycmF5KGdyaWRPZmZzZXQpO1xuXHRcdFx0c2VsZi5zY2VuZS5hZGQoc2VsZi5wcmV2aWV3Q2FtZXJhLCBzZWxmLnByZXZpZXdDYW1lcmEuZ3JpZEhlbHBlcik7XG5cdFx0XHRzZWxmLnByZXZpZXdDYW1lcmEucmVnaXN0ZXJIb29rcyhzZWxmLnJlbmRlcmVyKTtcblxuXHRcdFx0Ly8gc2V0IHVwIGN1cnNvciBlbXVsYXRpb25cblx0XHRcdGFsdHNwYWNlLnV0aWxpdGllcy5zaGltcy5jdXJzb3IuaW5pdChzZWxmLnNjZW5lLCBzZWxmLnByZXZpZXdDYW1lcmEsIHtyZW5kZXJlcjogc2VsZi5yZW5kZXJlcn0pO1xuXG5cdFx0XHQvLyBzdHViIGVudmlyb25tZW50XG5cdFx0XHRzZWxmLmVudiA9IE9iamVjdC5mcmVlemUoe1xuXHRcdFx0XHRpbm5lcldpZHRoOiAxMDI0LFxuXHRcdFx0XHRpbm5lckhlaWdodDogMTAyNCxcblx0XHRcdFx0aW5uZXJEZXB0aDogMTAyNCxcblx0XHRcdFx0cGl4ZWxzUGVyTWV0ZXI6IGZ1bGxzcGFjZSA/IDEgOiAxMDI0LzMsXG5cdFx0XHRcdHNpZDogJ2Jyb3dzZXInLFxuXHRcdFx0XHRuYW1lOiAnYnJvd3NlcicsXG5cdFx0XHRcdHRlbXBsYXRlU2lkOiAnYnJvd3Nlcidcblx0XHRcdH0pO1xuXG5cdFx0XHRzZWxmLl9lbnZQcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKCk7XG5cdFx0XHRzZWxmLl9mc1Byb21pc2UgPSBQcm9taXNlLnJlc29sdmUoKTtcblx0XHR9XG5cdH1cblxuXG5cdHN0YXJ0KC4uLm1vZHVsZXMpXG5cdHtcblx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0XHQvLyBkZXRlcm1pbmUgd2hpY2ggYXNzZXRzIGFyZW4ndCBzaGFyZWRcblx0XHR2YXIgc2luZ2xldG9ucyA9IHt9O1xuXHRcdG1vZHVsZXMuZm9yRWFjaChtb2QgPT5cblx0XHR7XG5cdFx0XHRmdW5jdGlvbiBjaGVja0Fzc2V0KHVybCl7XG5cdFx0XHRcdGlmKHNpbmdsZXRvbnNbdXJsXSA9PT0gdW5kZWZpbmVkKSBzaW5nbGV0b25zW3VybF0gPSB0cnVlO1xuXHRcdFx0XHRlbHNlIGlmKHNpbmdsZXRvbnNbdXJsXSA9PT0gdHJ1ZSkgc2luZ2xldG9uc1t1cmxdID0gZmFsc2U7XG5cdFx0XHR9XG5cdFx0XHRPYmplY3Qua2V5cyhtb2QuYXNzZXRzLnRleHR1cmVzIHx8IHt9KS5tYXAoayA9PiBtb2QuYXNzZXRzLnRleHR1cmVzW2tdKS5mb3JFYWNoKGNoZWNrQXNzZXQpO1xuXHRcdFx0T2JqZWN0LmtleXMobW9kLmFzc2V0cy5tb2RlbHMgfHwge30pLm1hcChrID0+IG1vZC5hc3NldHMubW9kZWxzW2tdKS5mb3JFYWNoKGNoZWNrQXNzZXQpO1xuXHRcdFx0T2JqZWN0LmtleXMobW9kLmFzc2V0cy5wb3N0ZXJzIHx8IHt9KS5tYXAoayA9PiBtb2QuYXNzZXRzLnBvc3RlcnNba10pLmZvckVhY2goY2hlY2tBc3NldCk7XG5cdFx0fSk7XG5cblx0XHQvLyBkZXRlcm1pbmUgaWYgdGhlIHRyYWNraW5nIHNrZWxldG9uIGlzIG5lZWRlZFxuXHRcdGxldCBuZWVkc1NrZWxldG9uID0gbW9kdWxlcy5yZWR1Y2UoKG5zLG0pID0+IG5zIHx8IG0ubmVlZHNTa2VsZXRvbiwgZmFsc2UpO1xuXHRcdGlmKG5lZWRzU2tlbGV0b24gJiYgYWx0c3BhY2UuaW5DbGllbnQpe1xuXHRcdFx0c2VsZi5fc2tlbFByb21pc2UgPSBhbHRzcGFjZS5nZXRUaHJlZUpTVHJhY2tpbmdTa2VsZXRvbigpLnRoZW4oc2tlbCA9PiB7XG5cdFx0XHRcdHNlbGYuc2NlbmUuYWRkKHNrZWwpO1xuXHRcdFx0XHRzZWxmLmVudi5za2VsID0gc2tlbDtcblx0XHRcdH0pO1xuXHRcdH1cblx0XHRlbHNlXG5cdFx0XHRzZWxmLl9za2VsUHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZSgpO1xuXG5cdFx0UHJvbWlzZS5hbGwoW3NlbGYuX2VudlByb21pc2UsIHNlbGYuX2ZzUHJvbWlzZSwgc2VsZi5fc2tlbFByb21pc2VdKS50aGVuKCgpID0+XG5cdFx0e1xuXHRcdFx0Ly8gY29uc3RydWN0IGRpb3JhbWFzXG5cdFx0XHRtb2R1bGVzLmZvckVhY2goZnVuY3Rpb24obW9kdWxlKVxuXHRcdFx0e1xuXHRcdFx0XHRsZXQgcm9vdCA9IG51bGw7XG5cblx0XHRcdFx0aWYobW9kdWxlIGluc3RhbmNlb2YgVEhSRUUuT2JqZWN0M0Qpe1xuXHRcdFx0XHRcdHJvb3QgPSBtb2R1bGU7XG5cdFx0XHRcdH1cblx0XHRcdFx0ZWxzZVxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0cm9vdCA9IG5ldyBUSFJFRS5PYmplY3QzRCgpO1xuXG5cdFx0XHRcdFx0Ly8gaGFuZGxlIGFic29sdXRlIHBvc2l0aW9uaW5nXG5cdFx0XHRcdFx0aWYobW9kdWxlLnRyYW5zZm9ybSl7XG5cdFx0XHRcdFx0XHRyb290Lm1hdHJpeC5mcm9tQXJyYXkobW9kdWxlLnRyYW5zZm9ybSk7XG5cdFx0XHRcdFx0XHRyb290Lm1hdHJpeC5kZWNvbXBvc2Uocm9vdC5wb3NpdGlvbiwgcm9vdC5xdWF0ZXJuaW9uLCByb290LnNjYWxlKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZWxzZSB7XG5cdFx0XHRcdFx0XHRpZihtb2R1bGUucG9zaXRpb24pe1xuXHRcdFx0XHRcdFx0XHRyb290LnBvc2l0aW9uLmZyb21BcnJheShtb2R1bGUucG9zaXRpb24pO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0aWYobW9kdWxlLnJvdGF0aW9uKXtcblx0XHRcdFx0XHRcdFx0cm9vdC5yb3RhdGlvbi5mcm9tQXJyYXkobW9kdWxlLnJvdGF0aW9uKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBoYW5kbGUgcmVsYXRpdmUgcG9zaXRpb25pbmdcblx0XHRcdFx0aWYobW9kdWxlLnZlcnRpY2FsQWxpZ24pe1xuXHRcdFx0XHRcdGxldCBoYWxmSGVpZ2h0ID0gc2VsZi5lbnYuaW5uZXJIZWlnaHQvKDIqc2VsZi5lbnYucGl4ZWxzUGVyTWV0ZXIpO1xuXHRcdFx0XHRcdHN3aXRjaChtb2R1bGUudmVydGljYWxBbGlnbil7XG5cdFx0XHRcdFx0Y2FzZSAndG9wJzpcblx0XHRcdFx0XHRcdHJvb3QudHJhbnNsYXRlWShoYWxmSGVpZ2h0KTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ2JvdHRvbSc6XG5cdFx0XHRcdFx0XHRyb290LnRyYW5zbGF0ZVkoLWhhbGZIZWlnaHQpO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAnbWlkZGxlJzpcblx0XHRcdFx0XHRcdC8vIGRlZmF1bHRcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0XHRjb25zb2xlLndhcm4oJ0ludmFsaWQgdmFsdWUgZm9yIFwidmVydGljYWxBbGlnblwiIC0gJywgbW9kdWxlLnZlcnRpY2FsQWxpZ24pO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0c2VsZi5zY2VuZS5hZGQocm9vdCk7XG5cblx0XHRcdFx0aWYoc2VsZi5wcmV2aWV3Q2FtZXJhKXtcblx0XHRcdFx0XHRyb290LmFkZCggbmV3IFRIUkVFLkF4aXNIZWxwZXIoMSkgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHNlbGYubG9hZEFzc2V0cyhtb2R1bGUuYXNzZXRzLCBzaW5nbGV0b25zKS50aGVuKChyZXN1bHRzKSA9PiB7XG5cdFx0XHRcdFx0bW9kdWxlLmluaXRpYWxpemUoc2VsZi5lbnYsIHJvb3QsIHJlc3VsdHMpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXHRcdH0pO1xuXG5cdFx0Ly8gc3RhcnQgYW5pbWF0aW5nXG5cdFx0d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbiBhbmltYXRlKHRpbWVzdGFtcClcblx0XHR7XG5cdFx0XHR3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGFuaW1hdGUpO1xuXHRcdFx0c2VsZi5zY2VuZS51cGRhdGVBbGxCZWhhdmlvcnMoKTtcblx0XHRcdGlmKHdpbmRvdy5UV0VFTikgVFdFRU4udXBkYXRlKCk7XG5cdFx0XHRzZWxmLnJlbmRlcmVyLnJlbmRlcihzZWxmLnNjZW5lLCBzZWxmLnByZXZpZXdDYW1lcmEpO1xuXHRcdH0pO1xuXHR9XG5cblx0bG9hZEFzc2V0cyhtYW5pZmVzdCwgc2luZ2xldG9ucylcblx0e1xuXHRcdHZhciBzZWxmID0gdGhpcztcblxuXHRcdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PlxuXHRcdHtcblx0XHRcdC8vIHBvcHVsYXRlIGNhY2hlXG5cdFx0XHRQcm9taXNlLmFsbChbXG5cblx0XHRcdFx0Ly8gcG9wdWxhdGUgbW9kZWwgY2FjaGVcblx0XHRcdFx0Li4uT2JqZWN0LmtleXMobWFuaWZlc3QubW9kZWxzIHx8IHt9KS5tYXAoaWQgPT4gTG9hZGVycy5Nb2RlbFByb21pc2UobWFuaWZlc3QubW9kZWxzW2lkXSkpLFxuXG5cdFx0XHRcdC8vIHBvcHVsYXRlIGV4cGxpY2l0IHRleHR1cmUgY2FjaGVcblx0XHRcdFx0Li4uT2JqZWN0LmtleXMobWFuaWZlc3QudGV4dHVyZXMgfHwge30pLm1hcChpZCA9PiBMb2FkZXJzLlRleHR1cmVQcm9taXNlKG1hbmlmZXN0LnRleHR1cmVzW2lkXSkpLFxuXG5cdFx0XHRcdC8vIGdlbmVyYXRlIGFsbCBwb3N0ZXJzXG5cdFx0XHRcdC4uLk9iamVjdC5rZXlzKG1hbmlmZXN0LnBvc3RlcnMgfHwge30pLm1hcChpZCA9PiBMb2FkZXJzLlBvc3RlclByb21pc2UobWFuaWZlc3QucG9zdGVyc1tpZF0pKVxuXHRcdFx0XSlcblxuXHRcdFx0LnRoZW4oKCkgPT5cblx0XHRcdHtcblx0XHRcdFx0Ly8gcG9wdWxhdGUgcGF5bG9hZCBmcm9tIGNhY2hlXG5cdFx0XHRcdHZhciBwYXlsb2FkID0ge21vZGVsczoge30sIHRleHR1cmVzOiB7fSwgcG9zdGVyczoge319O1xuXG5cdFx0XHRcdGZvcihsZXQgaSBpbiBtYW5pZmVzdC5tb2RlbHMpe1xuXHRcdFx0XHRcdGxldCB1cmwgPSBtYW5pZmVzdC5tb2RlbHNbaV07XG5cdFx0XHRcdFx0bGV0IHQgPSBMb2FkZXJzLl9jYWNoZS5tb2RlbHNbdXJsXTtcblx0XHRcdFx0XHRwYXlsb2FkLm1vZGVsc1tpXSA9IHQgPyBzaW5nbGV0b25zW3VybF0gPyB0IDogdC5jbG9uZSgpIDogbnVsbDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGZvcihsZXQgaSBpbiBtYW5pZmVzdC50ZXh0dXJlcyl7XG5cdFx0XHRcdFx0bGV0IHVybCA9IG1hbmlmZXN0LnRleHR1cmVzW2ldO1xuXHRcdFx0XHRcdGxldCB0ID0gTG9hZGVycy5fY2FjaGUudGV4dHVyZXNbdXJsXTtcblx0XHRcdFx0XHRwYXlsb2FkLnRleHR1cmVzW2ldID0gdCA/IHNpbmdsZXRvbnNbdXJsXSA/IHQgOiB0LmNsb25lKCkgOiBudWxsO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Zm9yKGxldCBpIGluIG1hbmlmZXN0LnBvc3RlcnMpe1xuXHRcdFx0XHRcdGxldCB1cmwgPSBtYW5pZmVzdC5wb3N0ZXJzW2ldO1xuXHRcdFx0XHRcdGxldCB0ID0gTG9hZGVycy5fY2FjaGUucG9zdGVyc1t1cmxdO1xuXHRcdFx0XHRcdHBheWxvYWQucG9zdGVyc1tpXSA9IHQgPyBzaW5nbGV0b25zW3VybF0gPyB0IDogdC5jbG9uZSgpIDogbnVsbDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJlc29sdmUocGF5bG9hZCk7XG5cdFx0XHR9KVxuXHRcdFx0LmNhdGNoKGUgPT4gY29uc29sZS5lcnJvcihlKSk7XG5cdFx0fSk7XG5cdH1cblxufTtcbiJdLCJuYW1lcyI6WyJNb2RlbFByb21pc2UiLCJ1cmwiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImNhY2hlIiwibW9kZWxzIiwidGVzdCIsIlRIUkVFIiwiZ2xURkxvYWRlciIsImxldCIsImxvYWRlciIsImxvYWQiLCJyZXN1bHQiLCJzY2VuZSIsImNoaWxkcmVuIiwiY29uc29sZSIsImVycm9yIiwiQ29sbGFkYUxvYWRlciIsIlRleHR1cmVQcm9taXNlIiwidGV4dHVyZXMiLCJUZXh0dXJlTG9hZGVyIiwidGV4dHVyZSIsIlBvc3RlclByb21pc2UiLCJwb3N0ZXJzIiwidGhlbiIsInRleCIsImdlbyIsInJhdGlvIiwiaW1hZ2UiLCJ3aWR0aCIsImhlaWdodCIsIm1hdCIsIk1lc2hCYXNpY01hdGVyaWFsIiwibWFwIiwic2lkZSIsIkRvdWJsZVNpZGUiLCJQbGFuZUdlb21ldHJ5IiwiTWVzaCIsIlByZXZpZXdDYW1lcmEiLCJmb2N1cyIsInZpZXdTaXplIiwibG9va0RpcmVjdGlvbiIsInN1cGVyIiwidGhpcyIsInNldHRpbmdzIiwid2luZG93IiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsIkpTT04iLCJwYXJzZSIsIlZlY3RvcjMiLCJmcm9tQXJyYXkiLCJfdmlld1NpemUiLCJfZm9jdXMiLCJfbG9va0RpcmVjdGlvbiIsImdyaWRIZWxwZXIiLCJHcmlkSGVscGVyIiwicHJvdG90eXBlQWNjZXNzb3JzIiwidmFsIiwicmVjb21wdXRlVmlld3BvcnQiLCJjb3B5IiwicmVnaXN0ZXJIb29rcyIsInJlbmRlcmVyIiwic2VsZiIsImRvY3VtZW50IiwiYm9keSIsInBhcmVudEVsZW1lbnQiLCJzdHlsZSIsIm1hcmdpbiIsIm92ZXJmbG93IiwiaW5mbyIsImNyZWF0ZUVsZW1lbnQiLCJpbm5lckhUTUwiLCJqb2luIiwiT2JqZWN0IiwiYXNzaWduIiwicG9zaXRpb24iLCJ0b3AiLCJsZWZ0IiwiYXBwZW5kQ2hpbGQiLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsImRyYWdTdGFydCIsImZvY3VzU3RhcnQiLCJidXR0b24iLCJ4IiwiY2xpZW50WCIsInkiLCJjbGllbnRZIiwiY2xvbmUiLCJ3IiwiaCIsInBpeGVsc1Blck1ldGVyIiwiTWF0aCIsInNxcnQiLCJkeCIsImR5IiwicmlnaHQiLCJjcm9zc1ZlY3RvcnMiLCJ1cCIsImFkZCIsIm11bHRpcGx5U2NhbGFyIiwiZGVsdGFZIiwia2V5IiwiYXBwbHlBeGlzQW5nbGUiLCJQSSIsInNldFNpemUiLCJib3R0b20iLCJ1cGRhdGVQcm9qZWN0aW9uTWF0cml4Iiwic3ViIiwiYWJzIiwibm9ybWFsaXplIiwiZG90Iiwic2V0IiwibG9va0F0Iiwic2V0SXRlbSIsInN0cmluZ2lmeSIsInRvQXJyYXkiLCJPcnRob2dyYXBoaWNDYW1lcmEiLCJEaW9yYW1hIiwicmVmIiwiX2NhY2hlIiwiTG9hZGVycy5fY2FjaGUiLCJTY2VuZSIsImFsdHNwYWNlIiwiaW5DbGllbnQiLCJnZXRUaHJlZUpTUmVuZGVyZXIiLCJfZW52UHJvbWlzZSIsImFsbCIsImdldEVuY2xvc3VyZSIsImdldFNwYWNlIiwiYWRqdXN0U2NhbGUiLCJzY2FsZSIsInNldFNjYWxhciIsImVudiIsImZyZWV6ZSIsInMiLCJmdWxsc3BhY2UiLCJfZnNQcm9taXNlIiwicmVxdWVzdEZ1bGxzcGFjZSIsImNhdGNoIiwibG9nIiwiV2ViR0xSZW5kZXJlciIsImNsaWVudFdpZHRoIiwiY2xpZW50SGVpZ2h0Iiwic2V0Q2xlYXJDb2xvciIsImJnQ29sb3IiLCJkb21FbGVtZW50IiwicHJldmlld0NhbWVyYSIsImdyaWRPZmZzZXQiLCJ1dGlsaXRpZXMiLCJzaGltcyIsImN1cnNvciIsImluaXQiLCJpbm5lcldpZHRoIiwiaW5uZXJIZWlnaHQiLCJpbm5lckRlcHRoIiwic2lkIiwibmFtZSIsInRlbXBsYXRlU2lkIiwic3RhcnQiLCJzaW5nbGV0b25zIiwibW9kdWxlcyIsImZvckVhY2giLCJtb2QiLCJjaGVja0Fzc2V0IiwidW5kZWZpbmVkIiwia2V5cyIsImFzc2V0cyIsImsiLCJuZWVkc1NrZWxldG9uIiwicmVkdWNlIiwibnMiLCJtIiwiX3NrZWxQcm9taXNlIiwiZ2V0VGhyZWVKU1RyYWNraW5nU2tlbGV0b24iLCJza2VsIiwibW9kdWxlIiwicm9vdCIsIk9iamVjdDNEIiwidHJhbnNmb3JtIiwibWF0cml4IiwiZGVjb21wb3NlIiwicXVhdGVybmlvbiIsInJvdGF0aW9uIiwidmVydGljYWxBbGlnbiIsImhhbGZIZWlnaHQiLCJ0cmFuc2xhdGVZIiwid2FybiIsIkF4aXNIZWxwZXIiLCJsb2FkQXNzZXRzIiwicmVzdWx0cyIsImluaXRpYWxpemUiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJhbmltYXRlIiwidGltZXN0YW1wIiwidXBkYXRlQWxsQmVoYXZpb3JzIiwiVFdFRU4iLCJ1cGRhdGUiLCJyZW5kZXIiLCJtYW5pZmVzdCIsImlkIiwiTG9hZGVycy5Nb2RlbFByb21pc2UiLCJMb2FkZXJzLlRleHR1cmVQcm9taXNlIiwiTG9hZGVycy5Qb3N0ZXJQcm9taXNlIiwicGF5bG9hZCIsImkiLCJ0Il0sIm1hcHBpbmdzIjoibUNBSUEsU0FBU0EsR0FBYUMsR0FFckIsTUFBTyxJQUFJQyxTQUFRLFNBQUNDLEVBQVNDLEdBRTVCLEdBQUdDLEVBQU1DLE9BQU9MLEdBQ2YsTUFBT0UsR0FBUUUsRUFBTUMsT0FBT0wsR0FJeEIsSUFBRyxXQUFXTSxLQUFLTixHQUN2QixHQUFHTyxNQUFNQyxXQUFXLENBQ25CQyxHQUFJQyxHQUFTLEdBQUlILE9BQU1DLFVBQ3ZCRSxHQUFPQyxLQUFLWCxFQUFLLFNBQUNZLEdBRWpCLE1BREFSLEdBQU1DLE9BQU9MLEdBQU9ZLEVBQU9DLE1BQU1DLFNBQVMsR0FBR0EsU0FBUyxHQUMvQ1osRUFBUUUsRUFBTUMsT0FBT0wsVUFJN0JlLFNBQVFDLE1BQU0sZ0NBQWdDaEIsbUJBQzlDRyxRQUlHLElBQUcsVUFBVUcsS0FBS04sR0FDdEIsR0FBR08sTUFBTVUsY0FBYyxDQUN0QlIsR0FBSUMsR0FBUyxHQUFJSCxPQUFNVSxhQUN2QlAsR0FBT0MsS0FBS1gsRUFBSyxTQUFBWSxHQUVoQixNQURBUixHQUFNQyxPQUFPTCxHQUFPWSxFQUFPQyxNQUFNQyxTQUFTLEdBQ25DWixFQUFRVSxFQUFPQyxNQUFNQyxTQUFTLEtB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
