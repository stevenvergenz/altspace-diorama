var Diorama=function(){"use strict";function e(e){return new Promise(function(t,r){if(o.models[e])return t(o.models[e]);if(/\.gltf$/i.test(e))if(THREE.glTFLoader){var n=new THREE.glTFLoader;n.load(e,function(r){return o.models[e]=r.scene.children[0].children[0],t(o.models[e])})}else console.error('THREE.glTFLoader not found. "'+e+'" not loaded.'),r();else if(/\.dae$/i.test(e))if(THREE.ColladaLoader){var i=new THREE.ColladaLoader;i.load(e,function(r){return o.models[e]=r.scene.children[0],t(r.scene.children[0])},null,r)}else console.error('THREE.ColladaLoader not found. "'+e+'" not loaded.'),r()})}function t(e){return new Promise(function(t,r){if(o.textures[e])return t(o.textures[e]);var n=new THREE.TextureLoader;n.load(e,function(r){return o.textures[e]=r,t(r)},null,r)})}function r(e){return new Promise(function(r,n){return o.posters[e]?r(o.posters[e]):new t(e).then(function(t){var r,n=t.image.width/t.image.height,i=new THREE.MeshBasicMaterial({map:t,side:THREE.DoubleSide});return r=n>1?new THREE.PlaneGeometry(1,1/n):new THREE.PlaneGeometry(n,1),o.posters[e]=new THREE.Mesh(r,i),Promise.resolve(o.posters[e])})})}var o={models:{},textures:{},posters:{}},n=function(e){function t(t,r,o){e.call(this,-1,1,1,-1,.1,400);var n=window.localStorage.getItem("dioramaViewSettings");n&&(n=JSON.parse(n),t||(t=(new THREE.Vector3).fromArray(n.focus)),r||(r=n.viewSize),o||(o=(new THREE.Vector3).fromArray(n.lookDirection))),this._viewSize=r||40,this._focus=t||new THREE.Vector3,this._lookDirection=o||new THREE.Vector3(0,-1,0),this.gridHelper=new THREE.GridHelper(300,1)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={viewSize:{},focus:{},lookDirection:{}};return r.viewSize.get=function(){return this._viewSize},r.viewSize.set=function(e){this._viewSize=e,this.recomputeViewport()},r.focus.get=function(){return this._focus},r.focus.set=function(e){this._focus.copy(e),this.recomputeViewport()},r.lookDirection.get=function(){return this._lookDirection},r.lookDirection.set=function(e){this._lookDirection.copy(e),this.recomputeViewport()},t.prototype.registerHooks=function(e){var t=this;t.renderer=e,document.body.parentElement.style.height="100%",document.body.style.height="100%",document.body.style.margin="0",document.body.style.overflow="hidden";var r=document.createElement("p");r.innerHTML=["Middle click and drag to pan","Mouse wheel to zoom","Arrow keys to rotate"].join("<br/>"),Object.assign(r.style,{position:"fixed",top:"10px",left:"10px",margin:0}),document.body.appendChild(r),window.addEventListener("resize",function(e){return t.recomputeViewport()}),t.recomputeViewport();var o=null,n=null;window.addEventListener("mousedown",function(e){1===e.button&&(o={x:e.clientX,y:e.clientY},n=t._focus.clone())}),window.addEventListener("mouseup",function(e){1===e.button&&(o=null,n=null)}),window.addEventListener("mousemove",function(e){if(o){var r=document.body,i=r.clientWidth,s=r.clientHeight,a=Math.sqrt(i*i+s*s)/t._viewSize,c=e.clientX-o.x,l=e.clientY-o.y,u=(new THREE.Vector3).crossVectors(t._lookDirection,t.up);t._focus.copy(n).add(t.up.clone().multiplyScalar(l/a)).add(u.multiplyScalar(-c/a)),t.recomputeViewport()}}),window.addEventListener("wheel",function(e){e.deltaY<0?(t._viewSize*=.9,t.recomputeViewport()):e.deltaY>0&&(t._viewSize*=1.1,t.recomputeViewport())}),window.addEventListener("keydown",function(e){if("ArrowDown"===e.key){var r=(new THREE.Vector3).crossVectors(t._lookDirection,t.up);t._lookDirection.applyAxisAngle(r,Math.PI/2),t.recomputeViewport()}else if("ArrowUp"===e.key){var o=(new THREE.Vector3).crossVectors(t._lookDirection,t.up);t._lookDirection.applyAxisAngle(o,-Math.PI/2),t.recomputeViewport()}else"ArrowLeft"===e.key?(t._lookDirection.applyAxisAngle(t.up,-Math.PI/2),t.recomputeViewport()):"ArrowRight"===e.key&&(t._lookDirection.applyAxisAngle(t.up,Math.PI/2),t.recomputeViewport())})},t.prototype.recomputeViewport=function(){var e=document.body,t=e.clientWidth,r=e.clientHeight;this.renderer.setSize(t,r);var o=t/r,n=Math.sqrt(this._viewSize*this._viewSize/(o*o+1)),i=o*n;this.left=-i/2,this.right=i/2,this.top=n/2,this.bottom=-n/2,this.updateProjectionMatrix(),this.position.copy(this._focus).sub(this._lookDirection.clone().multiplyScalar(200)),1===Math.abs(this._lookDirection.normalize().dot(new THREE.Vector3(0,-1,0)))?this.up.set(0,0,1):this.up.set(0,1,0),this.lookAt(this._focus),window.localStorage.setItem("dioramaViewSettings",JSON.stringify({focus:this._focus.toArray(),viewSize:this._viewSize,lookDirection:this._lookDirection.toArray()}))},Object.defineProperties(t.prototype,r),t}(THREE.OrthographicCamera),i=function(e){void 0===e&&(e={});var t=e.bgColor;void 0===t&&(t=11184810);var r=e.gridOffset;void 0===r&&(r=[0,0,0]);var o=e.fullspace;void 0===o&&(o=!1);var i=this;i.scene=new THREE.Scene,altspace.inClient?(i.renderer=altspace.getThreeJSRenderer(),i._envPromise=Promise.all([altspace.getEnclosure(),altspace.getSpace()]).then(function(e){var t=e[0],r=e[1];i.env=Object.freeze(Object.assign({},t,r)),i.scene.scale.multiplyScalar(t.pixelsPerMeter),o&&t.requestFullspace().catch(function(e){return console.log("Request for fullspace denied")})})):(i.renderer=new THREE.WebGLRenderer,i.renderer.setSize(document.body.clientWidth,document.body.clientHeight),i.renderer.setClearColor(t),document.body.appendChild(i.renderer.domElement),i.previewCamera=new n,i.previewCamera.gridHelper.position.fromArray(r),i.scene.add(i.previewCamera,i.previewCamera.gridHelper),i.previewCamera.registerHooks(i.renderer),altspace.utilities.shims.cursor.init(i.scene,i.previewCamera,{renderer:i.renderer}),i.env=Object.freeze({innerWidth:1024,innerHeight:1024,innerDepth:1024,pixelsPerMeter:o?1:1024/3,sid:"browser",name:"browser",templateSid:"browser"}))};return i.prototype.start=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=this;if(!r.env)return r._envPromise.then(function(){r.start.apply(r,e)});var o={};e.forEach(function(e){function t(e){void 0===o[e]?o[e]=!0:o[e]===!0&&(o[e]=!1)}Object.keys(e.assets.textures||{}).map(function(t){return e.assets.textures[t]}).forEach(t),Object.keys(e.assets.models||{}).map(function(t){return e.assets.models[t]}).forEach(t),Object.keys(e.assets.posters||{}).map(function(t){return e.assets.posters[t]}).forEach(t)});var n=e.reduce(function(e,t){return e||t.needsSkeleton},!1);n&&altspace.inClient&&altspace.getThreeJSTrackingSkeleton().then(function(e){r.scene.add(e),r.env.skel=e}),e.forEach(function(e){var t=null;if(e instanceof THREE.Object3D?t=e:(t=new THREE.Object3D,e.transform?(t.matrix.fromArray(e.transform),t.matrix.decompose(t.position,t.quaternion,t.scale)):(e.position&&t.position.fromArray(e.position),e.rotation&&t.rotation.fromArray(e.rotation))),e.verticalAlign){var n=r.env.innerHeight/(2*r.env.pixelsPerMeter);switch(e.verticalAlign){case"top":t.translateY(n);break;case"bottom":t.translateY(-n);break;case"middle":break;default:console.warn('Invalid value for "verticalAlign" - ',e.verticalAlign)}}r.scene.add(t),r.previewCamera&&t.add(new THREE.AxisHelper(1)),r.loadAssets(e.assets,o).then(function(o){e.initialize(r.env,t,o)})}),window.requestAnimationFrame(function e(t){window.requestAnimationFrame(e),r.scene.updateAllBehaviors(),window.TWEEN&&TWEEN.update(),r.renderer.render(r.scene,r.previewCamera)})},i.prototype.loadAssets=function(n,i){return new Promise(function(s,a){Promise.all(Object.keys(n.models||{}).map(function(t){return e(n.models[t])}).concat(Object.keys(n.textures||{}).map(function(e){return t(n.textures[e])}),Object.keys(n.posters||{}).map(function(e){return r(n.posters[e])}))).then(function(){var e={models:{},textures:{},posters:{}};for(var t in n.models){var r=n.models[t],a=o.models[r];e.models[t]=a?i[r]?a:a.clone():null}for(var c in n.textures){var l=n.textures[c],u=o.textures[l];e.textures[c]=u?i[l]?u:u.clone():null}for(var d in n.posters){var p=n.posters[d],m=o.posters[p];e.posters[d]=m?i[p]?m:m.clone():null}s(e)})})},i}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjpudWxsLCJzb3VyY2VzIjpbIi4uL3NyYy9sb2FkZXJzLmpzIiwiLi4vc3JjL2NhbWVyYS5qcyIsIi4uL3NyYy9tYWluLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxubGV0IGNhY2hlID0ge21vZGVsczoge30sIHRleHR1cmVzOiB7fSwgcG9zdGVyczoge319O1xuXG5mdW5jdGlvbiBNb2RlbFByb21pc2UodXJsKVxue1xuXHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT5cblx0e1xuXHRcdGlmKGNhY2hlLm1vZGVsc1t1cmxdKXtcblx0XHRcdHJldHVybiByZXNvbHZlKGNhY2hlLm1vZGVsc1t1cmxdKTtcblx0XHR9XG5cblx0XHQvLyBOT1RFOiBnbFRGIGxvYWRlciBkb2VzIG5vdCBjYXRjaCBlcnJvcnNcblx0XHRlbHNlIGlmKC9cXC5nbHRmJC9pLnRlc3QodXJsKSl7XG5cdFx0XHRpZihUSFJFRS5nbFRGTG9hZGVyKXtcblx0XHRcdFx0bGV0IGxvYWRlciA9IG5ldyBUSFJFRS5nbFRGTG9hZGVyKCk7XG5cdFx0XHRcdGxvYWRlci5sb2FkKHVybCwgKHJlc3VsdCkgPT4ge1xuXHRcdFx0XHRcdGNhY2hlLm1vZGVsc1t1cmxdID0gcmVzdWx0LnNjZW5lLmNoaWxkcmVuWzBdLmNoaWxkcmVuWzBdO1xuXHRcdFx0XHRcdHJldHVybiByZXNvbHZlKGNhY2hlLm1vZGVsc1t1cmxdKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0Y29uc29sZS5lcnJvcihgVEhSRUUuZ2xURkxvYWRlciBub3QgZm91bmQuIFwiJHt1cmx9XCIgbm90IGxvYWRlZC5gKTtcblx0XHRcdFx0cmVqZWN0KCk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0ZWxzZSBpZigvXFwuZGFlJC9pLnRlc3QodXJsKSl7XG5cdFx0XHRpZihUSFJFRS5Db2xsYWRhTG9hZGVyKXtcblx0XHRcdFx0bGV0IGxvYWRlciA9IG5ldyBUSFJFRS5Db2xsYWRhTG9hZGVyKCk7XG5cdFx0XHRcdGxvYWRlci5sb2FkKHVybCwgcmVzdWx0ID0+IHtcblx0XHRcdFx0XHRjYWNoZS5tb2RlbHNbdXJsXSA9IHJlc3VsdC5zY2VuZS5jaGlsZHJlblswXTtcblx0XHRcdFx0XHRyZXR1cm4gcmVzb2x2ZShyZXN1bHQuc2NlbmUuY2hpbGRyZW5bMF0pXG5cdFx0XHRcdH0sIG51bGwsIHJlamVjdCk7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0Y29uc29sZS5lcnJvcihgVEhSRUUuQ29sbGFkYUxvYWRlciBub3QgZm91bmQuIFwiJHt1cmx9XCIgbm90IGxvYWRlZC5gKTtcblx0XHRcdFx0cmVqZWN0KCk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9KTtcbn1cblxuZnVuY3Rpb24gVGV4dHVyZVByb21pc2UodXJsKXtcblx0cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+XG5cdHtcblx0XHRpZihjYWNoZS50ZXh0dXJlc1t1cmxdKVxuXHRcdFx0cmV0dXJuIHJlc29sdmUoY2FjaGUudGV4dHVyZXNbdXJsXSk7XG5cdFx0ZWxzZSB7XG5cdFx0XHRsZXQgbG9hZGVyID0gbmV3IFRIUkVFLlRleHR1cmVMb2FkZXIoKTtcblx0XHRcdGxvYWRlci5sb2FkKHVybCwgdGV4dHVyZSA9PiB7XG5cdFx0XHRcdGNhY2hlLnRleHR1cmVzW3VybF0gPSB0ZXh0dXJlO1xuXHRcdFx0XHRyZXR1cm4gcmVzb2x2ZSh0ZXh0dXJlKTtcblx0XHRcdH0sIG51bGwsIHJlamVjdCk7XG5cdFx0fVxuXHR9KTtcbn1cblxuY2xhc3MgVmlkZW9Qcm9taXNlIGV4dGVuZHMgUHJvbWlzZSB7XG5cdGNvbnN0cnVjdG9yKHVybClcblx0e1xuXHRcdC8vIHN0YXJ0IGxvYWRlclxuXHRcdHZhciB2aWRTcmMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd2aWRlbycpO1xuXHRcdHZpZFNyYy5hdXRvcGxheSA9IHRydWU7XG5cdFx0dmlkU3JjLmxvb3AgPSB0cnVlO1xuXHRcdHZpZFNyYy5zcmMgPSB1cmw7XG5cdFx0dmlkU3JjLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cdFx0ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh2aWRTcmMpO1xuXG5cdFx0dmFyIHRleCA9IG5ldyBUSFJFRS5WaWRlb1RleHR1cmUodmlkU3JjKTtcblx0XHR0ZXgubWluRmlsdGVyID0gVEhSRUUuTGluZWFyRmlsdGVyO1xuXHRcdHRleC5tYWdGaWx0ZXIgPSBUSFJFRS5MaW5lYXJGaWx0ZXI7XG5cdFx0dGV4LmZvcm1hdCA9IFRIUkVFLlJHQkZvcm1hdDtcblxuXHRcdC8vY2FjaGUudmlkZW9zW3VybF0gPSB0ZXg7XG5cdFx0Ly9wYXlsb2FkLnZpZGVvc1tpZF0gPSBjYWNoZS52aWRlb3NbdXJsXTtcblxuXHRcdHJldHVybiBQcm9taXNlLnJlc29sdmUodGV4KTtcblx0fVxufVxuXG5mdW5jdGlvbiBQb3N0ZXJQcm9taXNlKHVybCl7XG5cdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PlxuXHR7XG5cdFx0aWYoY2FjaGUucG9zdGVyc1t1cmxdKVxuXHRcdFx0cmV0dXJuIHJlc29sdmUoY2FjaGUucG9zdGVyc1t1cmxdKTtcblx0XHRlbHNlIHJldHVybiAobmV3IFRleHR1cmVQcm9taXNlKHVybCkpLnRoZW4odGV4ID0+XG5cdFx0XHR7XG5cdFx0XHRcdGxldCByYXRpbyA9IHRleC5pbWFnZS53aWR0aCAvIHRleC5pbWFnZS5oZWlnaHQ7XG5cdFx0XHRcdGxldCBnZW8sIG1hdCA9IG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCh7bWFwOiB0ZXgsIHNpZGU6IFRIUkVFLkRvdWJsZVNpZGV9KTtcblxuXHRcdFx0XHRpZihyYXRpbyA+IDEpe1xuXHRcdFx0XHRcdGdlbyA9IG5ldyBUSFJFRS5QbGFuZUdlb21ldHJ5KDEsIDEvcmF0aW8pO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGVsc2Uge1xuXHRcdFx0XHRcdGdlbyA9IG5ldyBUSFJFRS5QbGFuZUdlb21ldHJ5KHJhdGlvLCAxKTtcblx0XHRcdFx0fVxuXHRcdFx0XG5cdFx0XHRcdGNhY2hlLnBvc3RlcnNbdXJsXSA9IG5ldyBUSFJFRS5NZXNoKGdlbywgbWF0KTtcblx0XHRcdFx0cmV0dXJuIFByb21pc2UucmVzb2x2ZShjYWNoZS5wb3N0ZXJzW3VybF0pO1xuXHRcdFx0fVxuXHRcdCk7XG5cdH0pO1xufVxuXG5leHBvcnQgeyBNb2RlbFByb21pc2UsIFRleHR1cmVQcm9taXNlLCBWaWRlb1Byb21pc2UsIFBvc3RlclByb21pc2UsIGNhY2hlIGFzIF9jYWNoZSB9O1xuXG4iLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFByZXZpZXdDYW1lcmEgZXh0ZW5kcyBUSFJFRS5PcnRob2dyYXBoaWNDYW1lcmFcbntcblx0Y29uc3RydWN0b3IoZm9jdXMsIHZpZXdTaXplLCBsb29rRGlyZWN0aW9uKVxuXHR7XG5cdFx0c3VwZXIoLTEsIDEsIDEsIC0xLCAuMSwgNDAwKTtcblxuXHRcdGxldCBzZXR0aW5ncyA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZGlvcmFtYVZpZXdTZXR0aW5ncycpO1xuXHRcdGlmKHNldHRpbmdzKXtcblx0XHRcdHNldHRpbmdzID0gSlNPTi5wYXJzZShzZXR0aW5ncyk7XG5cdFx0XHRpZighZm9jdXMpXG5cdFx0XHRcdGZvY3VzID0gbmV3IFRIUkVFLlZlY3RvcjMoKS5mcm9tQXJyYXkoc2V0dGluZ3MuZm9jdXMpO1xuXHRcdFx0aWYoIXZpZXdTaXplKVxuXHRcdFx0XHR2aWV3U2l6ZSA9IHNldHRpbmdzLnZpZXdTaXplO1xuXHRcdFx0aWYoIWxvb2tEaXJlY3Rpb24pXG5cdFx0XHRcdGxvb2tEaXJlY3Rpb24gPSBuZXcgVEhSRUUuVmVjdG9yMygpLmZyb21BcnJheShzZXR0aW5ncy5sb29rRGlyZWN0aW9uKTtcblx0XHR9XG5cblx0XHR0aGlzLl92aWV3U2l6ZSA9IHZpZXdTaXplIHx8IDQwO1xuXHRcdHRoaXMuX2ZvY3VzID0gZm9jdXMgfHwgbmV3IFRIUkVFLlZlY3RvcjMoKTtcblx0XHR0aGlzLl9sb29rRGlyZWN0aW9uID0gbG9va0RpcmVjdGlvbiB8fCBuZXcgVEhSRUUuVmVjdG9yMygwLC0xLDApO1xuXHRcdHRoaXMuZ3JpZEhlbHBlciA9IG5ldyBUSFJFRS5HcmlkSGVscGVyKDMwMCwgMSk7XG5cdFx0Ly90aGlzLmdyaWRIZWxwZXIucXVhdGVybmlvbi5zZXRGcm9tVW5pdFZlY3RvcnMoIG5ldyBUSFJFRS5WZWN0b3IzKDAsLTEsMCksIHRoaXMuX2xvb2tEaXJlY3Rpb24gKTtcblx0fVxuXG5cdGdldCB2aWV3U2l6ZSgpe1xuXHRcdHJldHVybiB0aGlzLl92aWV3U2l6ZTtcblx0fVxuXHRzZXQgdmlld1NpemUodmFsKXtcblx0XHR0aGlzLl92aWV3U2l6ZSA9IHZhbDtcblx0XHR0aGlzLnJlY29tcHV0ZVZpZXdwb3J0KCk7XG5cdH1cblxuXHRnZXQgZm9jdXMoKXtcblx0XHRyZXR1cm4gdGhpcy5fZm9jdXM7XG5cdH1cblx0c2V0IGZvY3VzKHZhbCl7XG5cdFx0dGhpcy5fZm9jdXMuY29weSh2YWwpO1xuXHRcdHRoaXMucmVjb21wdXRlVmlld3BvcnQoKTtcblx0fVxuXG5cdGdldCBsb29rRGlyZWN0aW9uKCl7XG5cdFx0cmV0dXJuIHRoaXMuX2xvb2tEaXJlY3Rpb247XG5cdH1cblx0c2V0IGxvb2tEaXJlY3Rpb24odmFsKXtcblx0XHR0aGlzLl9sb29rRGlyZWN0aW9uLmNvcHkodmFsKTtcblx0XHR0aGlzLnJlY29tcHV0ZVZpZXdwb3J0KCk7XG5cdH1cblxuXHRyZWdpc3Rlckhvb2tzKHJlbmRlcmVyKVxuXHR7XG5cdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdHNlbGYucmVuZGVyZXIgPSByZW5kZXJlcjtcblxuXHRcdC8vIHNldCBzdHlsZXMgb24gdGhlIHBhZ2UsIHNvIHRoZSBwcmV2aWV3IHdvcmtzIHJpZ2h0XG5cdFx0ZG9jdW1lbnQuYm9keS5wYXJlbnRFbGVtZW50LnN0eWxlLmhlaWdodCA9ICcxMDAlJztcblx0XHRkb2N1bWVudC5ib2R5LnN0eWxlLmhlaWdodCA9ICcxMDAlJztcblx0XHRkb2N1bWVudC5ib2R5LnN0eWxlLm1hcmdpbiA9ICcwJztcblx0XHRkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XG5cblx0XHR2YXIgaW5mbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcblx0XHRpbmZvLmlubmVySFRNTCA9IFsnTWlkZGxlIGNsaWNrIGFuZCBkcmFnIHRvIHBhbicsICdNb3VzZSB3aGVlbCB0byB6b29tJywgJ0Fycm93IGtleXMgdG8gcm90YXRlJ10uam9pbignPGJyLz4nKTtcblx0XHRPYmplY3QuYXNzaWduKGluZm8uc3R5bGUsIHtcblx0XHRcdHBvc2l0aW9uOiAnZml4ZWQnLFxuXHRcdFx0dG9wOiAnMTBweCcsXG5cdFx0XHRsZWZ0OiAnMTBweCcsXG5cdFx0XHRtYXJnaW46IDBcblx0XHR9KTtcblx0XHRkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGluZm8pO1xuXG5cdFx0Ly8gcmVzaXplIHRoZSBwcmV2aWV3IGNhbnZhcyB3aGVuIHdpbmRvdyByZXNpemVzXG5cdFx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGUgPT4gc2VsZi5yZWNvbXB1dGVWaWV3cG9ydCgpKTtcblx0XHRzZWxmLnJlY29tcHV0ZVZpZXdwb3J0KCk7XG5cblx0XHQvLyBtaWRkbGUgY2xpY2sgYW5kIGRyYWcgdG8gcGFuIHZpZXdcblx0XHR2YXIgZHJhZ1N0YXJ0ID0gbnVsbCwgZm9jdXNTdGFydCA9IG51bGw7XG5cdFx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGUgPT4ge1xuXHRcdFx0aWYoZS5idXR0b24gPT09IDEpe1xuXHRcdFx0XHRkcmFnU3RhcnQgPSB7eDogZS5jbGllbnRYLCB5OiBlLmNsaWVudFl9O1xuXHRcdFx0XHRmb2N1c1N0YXJ0ID0gc2VsZi5fZm9jdXMuY2xvbmUoKTtcblx0XHRcdH1cblx0XHR9KTtcblx0XHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIGUgPT4ge1xuXHRcdFx0aWYoZS5idXR0b24gPT09IDEpe1xuXHRcdFx0XHRkcmFnU3RhcnQgPSBudWxsO1xuXHRcdFx0XHRmb2N1c1N0YXJ0ID0gbnVsbDtcblx0XHRcdH1cblx0XHR9KTtcblx0XHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgZSA9PiB7XG5cdFx0XHRpZihkcmFnU3RhcnQpXG5cdFx0XHR7XG5cdFx0XHRcdGxldCB7Y2xpZW50V2lkdGg6IHcsIGNsaWVudEhlaWdodDogaH0gPSBkb2N1bWVudC5ib2R5O1xuXHRcdFx0XHRsZXQgcGl4ZWxzUGVyTWV0ZXIgPSBNYXRoLnNxcnQodyp3K2gqaCkgLyBzZWxmLl92aWV3U2l6ZTtcblx0XHRcdFx0bGV0IGR4ID0gZS5jbGllbnRYIC0gZHJhZ1N0YXJ0LngsIGR5ID0gZS5jbGllbnRZIC0gZHJhZ1N0YXJ0Lnk7XG5cdFx0XHRcdGxldCByaWdodCA9IG5ldyBUSFJFRS5WZWN0b3IzKCkuY3Jvc3NWZWN0b3JzKHNlbGYuX2xvb2tEaXJlY3Rpb24sIHNlbGYudXApO1xuXG5cdFx0XHRcdHNlbGYuX2ZvY3VzLmNvcHkoZm9jdXNTdGFydClcblx0XHRcdFx0XHQuYWRkKHNlbGYudXAuY2xvbmUoKS5tdWx0aXBseVNjYWxhcihkeS9waXhlbHNQZXJNZXRlcikpXG5cdFx0XHRcdFx0LmFkZChyaWdodC5tdWx0aXBseVNjYWxhcigtZHgvcGl4ZWxzUGVyTWV0ZXIpKTtcblxuXHRcdFx0XHRzZWxmLnJlY29tcHV0ZVZpZXdwb3J0KCk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHQvLyB3aGVlbCB0byB6b29tXG5cdFx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3doZWVsJywgZSA9PiB7XG5cdFx0XHRpZihlLmRlbHRhWSA8IDApe1xuXHRcdFx0XHRzZWxmLl92aWV3U2l6ZSAqPSAwLjkwO1xuXHRcdFx0XHRzZWxmLnJlY29tcHV0ZVZpZXdwb3J0KCk7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIGlmKGUuZGVsdGFZID4gMCl7XG5cdFx0XHRcdHNlbGYuX3ZpZXdTaXplICo9IDEuMTtcblx0XHRcdFx0c2VsZi5yZWNvbXB1dGVWaWV3cG9ydCgpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0Ly8gYXJyb3cga2V5cyB0byByb3RhdGVcblx0XHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGUgPT4ge1xuXHRcdFx0aWYoZS5rZXkgPT09ICdBcnJvd0Rvd24nKXtcblx0XHRcdFx0bGV0IHJpZ2h0ID0gbmV3IFRIUkVFLlZlY3RvcjMoKS5jcm9zc1ZlY3RvcnMoc2VsZi5fbG9va0RpcmVjdGlvbiwgc2VsZi51cCk7XG5cdFx0XHRcdHNlbGYuX2xvb2tEaXJlY3Rpb24uYXBwbHlBeGlzQW5nbGUocmlnaHQsIE1hdGguUEkvMik7XG5cdFx0XHRcdC8vc2VsZi5ncmlkSGVscGVyLnJvdGF0ZU9uQXhpcyhyaWdodCwgTWF0aC5QSS8yKTtcblx0XHRcdFx0c2VsZi5yZWNvbXB1dGVWaWV3cG9ydCgpO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSBpZihlLmtleSA9PT0gJ0Fycm93VXAnKXtcblx0XHRcdFx0bGV0IHJpZ2h0ID0gbmV3IFRIUkVFLlZlY3RvcjMoKS5jcm9zc1ZlY3RvcnMoc2VsZi5fbG9va0RpcmVjdGlvbiwgc2VsZi51cCk7XG5cdFx0XHRcdHNlbGYuX2xvb2tEaXJlY3Rpb24uYXBwbHlBeGlzQW5nbGUocmlnaHQsIC1NYXRoLlBJLzIpO1xuXHRcdFx0XHQvL3NlbGYuZ3JpZEhlbHBlci5yb3RhdGVPbkF4aXMocmlnaHQsIC1NYXRoLlBJLzIpO1xuXHRcdFx0XHRzZWxmLnJlY29tcHV0ZVZpZXdwb3J0KCk7XG5cblx0XHRcdH1cblx0XHRcdGVsc2UgaWYoZS5rZXkgPT09ICdBcnJvd0xlZnQnKXtcblx0XHRcdFx0c2VsZi5fbG9va0RpcmVjdGlvbi5hcHBseUF4aXNBbmdsZShzZWxmLnVwLCAtTWF0aC5QSS8yKTtcblx0XHRcdFx0Ly9zZWxmLmdyaWRIZWxwZXIucm90YXRlT25BeGlzKHNlbGYudXAsIC1NYXRoLlBJLzIpO1xuXHRcdFx0XHRzZWxmLnJlY29tcHV0ZVZpZXdwb3J0KCk7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIGlmKGUua2V5ID09PSAnQXJyb3dSaWdodCcpe1xuXHRcdFx0XHRzZWxmLl9sb29rRGlyZWN0aW9uLmFwcGx5QXhpc0FuZ2xlKHNlbGYudXAsIE1hdGguUEkvMik7XG5cdFx0XHRcdC8vc2VsZi5ncmlkSGVscGVyLnJvdGF0ZU9uQXhpcyhzZWxmLnVwLCBNYXRoLlBJLzIpO1xuXHRcdFx0XHRzZWxmLnJlY29tcHV0ZVZpZXdwb3J0KCk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cblxuXHRyZWNvbXB1dGVWaWV3cG9ydCgpXG5cdHtcblx0XHR2YXIge2NsaWVudFdpZHRoOiB3LCBjbGllbnRIZWlnaHQ6IGh9ID0gZG9jdW1lbnQuYm9keTtcblxuXHRcdC8vIHJlc2l6ZSBjYW52YXNcblx0XHR0aGlzLnJlbmRlcmVyLnNldFNpemUodywgaCk7XG5cblx0XHQvLyBjb21wdXRlIHdpbmRvdyBkaW1lbnNpb25zIGZyb20gdmlldyBzaXplXG5cdFx0dmFyIHJhdGlvID0gdy9oO1xuXHRcdHZhciBoZWlnaHQgPSBNYXRoLnNxcnQoICh0aGlzLl92aWV3U2l6ZSp0aGlzLl92aWV3U2l6ZSkgLyAocmF0aW8qcmF0aW8gKyAxKSApO1xuXHRcdHZhciB3aWR0aCA9IHJhdGlvICogaGVpZ2h0O1xuXG5cdFx0Ly8gc2V0IGZydXN0cnVtIGVkZ2VzXG5cdFx0dGhpcy5sZWZ0ID0gLXdpZHRoLzI7XG5cdFx0dGhpcy5yaWdodCA9IHdpZHRoLzI7XG5cdFx0dGhpcy50b3AgPSBoZWlnaHQvMjtcblx0XHR0aGlzLmJvdHRvbSA9IC1oZWlnaHQvMjtcblxuXHRcdHRoaXMudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xuXG5cdFx0Ly8gdXBkYXRlIHBvc2l0aW9uXG5cdFx0dGhpcy5wb3NpdGlvbi5jb3B5KHRoaXMuX2ZvY3VzKS5zdWIoIHRoaXMuX2xvb2tEaXJlY3Rpb24uY2xvbmUoKS5tdWx0aXBseVNjYWxhcigyMDApICk7XG5cdFx0aWYoIE1hdGguYWJzKCB0aGlzLl9sb29rRGlyZWN0aW9uLm5vcm1hbGl6ZSgpLmRvdChuZXcgVEhSRUUuVmVjdG9yMygwLC0xLDApKSApID09PSAxIClcblx0XHRcdHRoaXMudXAuc2V0KDAsMCwxKTsgLy8gaWYgd2UncmUgbG9va2luZyBkb3duIHRoZSBZIGF4aXNcblx0XHRlbHNlXG5cdFx0XHR0aGlzLnVwLnNldCgwLDEsMCk7XG5cdFx0dGhpcy5sb29rQXQoIHRoaXMuX2ZvY3VzICk7XG5cblx0XHR3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2Rpb3JhbWFWaWV3U2V0dGluZ3MnLCBKU09OLnN0cmluZ2lmeSh7XG5cdFx0XHRmb2N1czogdGhpcy5fZm9jdXMudG9BcnJheSgpLFxuXHRcdFx0dmlld1NpemU6IHRoaXMuX3ZpZXdTaXplLFxuXHRcdFx0bG9va0RpcmVjdGlvbjogdGhpcy5fbG9va0RpcmVjdGlvbi50b0FycmF5KClcblx0XHR9KSk7XG5cdH1cbn1cbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0ICogYXMgTG9hZGVycyBmcm9tICcuL2xvYWRlcnMnO1xuaW1wb3J0IFByZXZpZXdDYW1lcmEgZnJvbSAnLi9jYW1lcmEnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEaW9yYW1hXG57XG5cdGNvbnN0cnVjdG9yKHtiZ0NvbG9yPTB4YWFhYWFhLCBncmlkT2Zmc2V0PVswLDAsMF0sIGZ1bGxzcGFjZT1mYWxzZX0gPSB7fSlcblx0e1xuXHRcdHZhciBzZWxmID0gdGhpcztcblxuXHRcdHNlbGYuc2NlbmUgPSBuZXcgVEhSRUUuU2NlbmUoKTtcblxuXHRcdC8vIHNldCB1cCByZW5kZXJlciBhbmQgc2NhbGVcblx0XHRpZihhbHRzcGFjZS5pbkNsaWVudClcblx0XHR7XG5cdFx0XHRzZWxmLnJlbmRlcmVyID0gYWx0c3BhY2UuZ2V0VGhyZWVKU1JlbmRlcmVyKCk7XG5cdFx0XHRzZWxmLl9lbnZQcm9taXNlID0gUHJvbWlzZS5hbGwoW2FsdHNwYWNlLmdldEVuY2xvc3VyZSgpLCBhbHRzcGFjZS5nZXRTcGFjZSgpXSlcblx0XHRcdC50aGVuKGZ1bmN0aW9uKFtlLCBzXSl7XG5cdFx0XHRcdHNlbGYuZW52ID0gT2JqZWN0LmZyZWV6ZShPYmplY3QuYXNzaWduKHt9LCBlLCBzKSk7XG5cdFx0XHRcdHNlbGYuc2NlbmUuc2NhbGUubXVsdGlwbHlTY2FsYXIoZS5waXhlbHNQZXJNZXRlcik7XG5cblx0XHRcdFx0aWYoZnVsbHNwYWNlKXtcblx0XHRcdFx0XHRlLnJlcXVlc3RGdWxsc3BhY2UoKS5jYXRjaCgoZSkgPT4gY29uc29sZS5sb2coJ1JlcXVlc3QgZm9yIGZ1bGxzcGFjZSBkZW5pZWQnKSk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH1cblx0XHRlbHNlXG5cdFx0e1xuXHRcdFx0Ly8gc2V0IHVwIHByZXZpZXcgcmVuZGVyZXIsIGluIGNhc2Ugd2UncmUgb3V0IG9mIHdvcmxkXG5cdFx0XHRzZWxmLnJlbmRlcmVyID0gbmV3IFRIUkVFLldlYkdMUmVuZGVyZXIoKTtcblx0XHRcdHNlbGYucmVuZGVyZXIuc2V0U2l6ZShkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoLCBkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodCk7XG5cdFx0XHRzZWxmLnJlbmRlcmVyLnNldENsZWFyQ29sb3IoIGJnQ29sb3IgKTtcblx0XHRcdGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc2VsZi5yZW5kZXJlci5kb21FbGVtZW50KTtcblx0XHRcblx0XHRcdHNlbGYucHJldmlld0NhbWVyYSA9IG5ldyBQcmV2aWV3Q2FtZXJhKCk7XG5cdFx0XHRzZWxmLnByZXZpZXdDYW1lcmEuZ3JpZEhlbHBlci5wb3NpdGlvbi5mcm9tQXJyYXkoZ3JpZE9mZnNldCk7XG5cdFx0XHRzZWxmLnNjZW5lLmFkZChzZWxmLnByZXZpZXdDYW1lcmEsIHNlbGYucHJldmlld0NhbWVyYS5ncmlkSGVscGVyKTtcblx0XHRcdHNlbGYucHJldmlld0NhbWVyYS5yZWdpc3Rlckhvb2tzKHNlbGYucmVuZGVyZXIpO1xuXG5cdFx0XHQvLyBzZXQgdXAgY3Vyc29yIGVtdWxhdGlvblxuXHRcdFx0YWx0c3BhY2UudXRpbGl0aWVzLnNoaW1zLmN1cnNvci5pbml0KHNlbGYuc2NlbmUsIHNlbGYucHJldmlld0NhbWVyYSwge3JlbmRlcmVyOiBzZWxmLnJlbmRlcmVyfSk7XG5cdFx0XG5cdFx0XHQvLyBzdHViIGVudmlyb25tZW50XG5cdFx0XHRzZWxmLmVudiA9IE9iamVjdC5mcmVlemUoe1xuXHRcdFx0XHRpbm5lcldpZHRoOiAxMDI0LFxuXHRcdFx0XHRpbm5lckhlaWdodDogMTAyNCxcblx0XHRcdFx0aW5uZXJEZXB0aDogMTAyNCxcblx0XHRcdFx0cGl4ZWxzUGVyTWV0ZXI6IGZ1bGxzcGFjZSA/IDEgOiAxMDI0LzMsXG5cdFx0XHRcdHNpZDogJ2Jyb3dzZXInLFxuXHRcdFx0XHRuYW1lOiAnYnJvd3NlcicsXG5cdFx0XHRcdHRlbXBsYXRlU2lkOiAnYnJvd3Nlcidcblx0XHRcdH0pO1xuXHRcdH1cblx0fVxuXHRcdFxuXHRcdFxuXHRzdGFydCguLi5tb2R1bGVzKVxuXHR7XG5cdFx0dmFyIHNlbGYgPSB0aGlzO1xuXG5cdFx0Ly8gbWFrZSBzdXJlIHNwYWNlIGluZm8gaXMgZmlsbGVkIG91dCBiZWZvcmUgaW5pdGlhbGl6YXRpb25cblx0XHRpZighc2VsZi5lbnYpe1xuXHRcdFx0cmV0dXJuIHNlbGYuX2VudlByb21pc2UudGhlbigoKSA9PiB7IHNlbGYuc3RhcnQoLi4ubW9kdWxlcyk7IH0pO1xuXHRcdH1cblxuXHRcdC8vIGRldGVybWluZSB3aGljaCBhc3NldHMgYXJlbid0IHNoYXJlZFxuXHRcdHZhciBzaW5nbGV0b25zID0ge307XG5cdFx0bW9kdWxlcy5mb3JFYWNoKG1vZCA9PlxuXHRcdHtcblx0XHRcdGZ1bmN0aW9uIGNoZWNrQXNzZXQodXJsKXtcblx0XHRcdFx0aWYoc2luZ2xldG9uc1t1cmxdID09PSB1bmRlZmluZWQpIHNpbmdsZXRvbnNbdXJsXSA9IHRydWU7XG5cdFx0XHRcdGVsc2UgaWYoc2luZ2xldG9uc1t1cmxdID09PSB0cnVlKSBzaW5nbGV0b25zW3VybF0gPSBmYWxzZTtcblx0XHRcdH1cblx0XHRcdE9iamVjdC5rZXlzKG1vZC5hc3NldHMudGV4dHVyZXMgfHwge30pLm1hcChrID0+IG1vZC5hc3NldHMudGV4dHVyZXNba10pLmZvckVhY2goY2hlY2tBc3NldCk7XG5cdFx0XHRPYmplY3Qua2V5cyhtb2QuYXNzZXRzLm1vZGVscyB8fCB7fSkubWFwKGsgPT4gbW9kLmFzc2V0cy5tb2RlbHNba10pLmZvckVhY2goY2hlY2tBc3NldCk7XG5cdFx0XHRPYmplY3Qua2V5cyhtb2QuYXNzZXRzLnBvc3RlcnMgfHwge30pLm1hcChrID0+IG1vZC5hc3NldHMucG9zdGVyc1trXSkuZm9yRWFjaChjaGVja0Fzc2V0KTtcblx0XHR9KTtcblxuXHRcdC8vIGRldGVybWluZSBpZiB0aGUgdHJhY2tpbmcgc2tlbGV0b24gaXMgbmVlZGVkXG5cdFx0bGV0IG5lZWRzU2tlbGV0b24gPSBtb2R1bGVzLnJlZHVjZSgobnMsbSkgPT4gbnMgfHwgbS5uZWVkc1NrZWxldG9uLCBmYWxzZSk7XG5cdFx0aWYobmVlZHNTa2VsZXRvbiAmJiBhbHRzcGFjZS5pbkNsaWVudCl7XG5cdFx0XHRhbHRzcGFjZS5nZXRUaHJlZUpTVHJhY2tpbmdTa2VsZXRvbigpLnRoZW4oc2tlbCA9PiB7XG5cdFx0XHRcdHNlbGYuc2NlbmUuYWRkKHNrZWwpO1xuXHRcdFx0XHRzZWxmLmVudi5za2VsID0gc2tlbDtcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdC8vIGNvbnN0cnVjdCBkaW9yYW1hc1xuXHRcdG1vZHVsZXMuZm9yRWFjaChmdW5jdGlvbihtb2R1bGUpXG5cdFx0e1xuXHRcdFx0bGV0IHJvb3QgPSBudWxsO1xuXHRcdFx0XG5cdFx0XHRpZihtb2R1bGUgaW5zdGFuY2VvZiBUSFJFRS5PYmplY3QzRCl7XG5cdFx0XHRcdHJvb3QgPSBtb2R1bGU7XG5cdFx0XHR9XG5cdFx0XHRlbHNlXG5cdFx0XHR7XG5cdFx0XHRcdHJvb3QgPSBuZXcgVEhSRUUuT2JqZWN0M0QoKTtcblxuXHRcdFx0XHQvLyBoYW5kbGUgYWJzb2x1dGUgcG9zaXRpb25pbmdcblx0XHRcdFx0aWYobW9kdWxlLnRyYW5zZm9ybSl7XG5cdFx0XHRcdFx0cm9vdC5tYXRyaXguZnJvbUFycmF5KG1vZHVsZS50cmFuc2Zvcm0pO1xuXHRcdFx0XHRcdHJvb3QubWF0cml4LmRlY29tcG9zZShyb290LnBvc2l0aW9uLCByb290LnF1YXRlcm5pb24sIHJvb3Quc2NhbGUpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGVsc2Uge1xuXHRcdFx0XHRcdGlmKG1vZHVsZS5wb3NpdGlvbil7XG5cdFx0XHRcdFx0XHRyb290LnBvc2l0aW9uLmZyb21BcnJheShtb2R1bGUucG9zaXRpb24pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZihtb2R1bGUucm90YXRpb24pe1xuXHRcdFx0XHRcdFx0cm9vdC5yb3RhdGlvbi5mcm9tQXJyYXkobW9kdWxlLnJvdGF0aW9uKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gaGFuZGxlIHJlbGF0aXZlIHBvc2l0aW9uaW5nXG5cdFx0XHRpZihtb2R1bGUudmVydGljYWxBbGlnbil7XG5cdFx0XHRcdGxldCBoYWxmSGVpZ2h0ID0gc2VsZi5lbnYuaW5uZXJIZWlnaHQvKDIqc2VsZi5lbnYucGl4ZWxzUGVyTWV0ZXIpO1xuXHRcdFx0XHRzd2l0Y2gobW9kdWxlLnZlcnRpY2FsQWxpZ24pe1xuXHRcdFx0XHRjYXNlICd0b3AnOlxuXHRcdFx0XHRcdHJvb3QudHJhbnNsYXRlWShoYWxmSGVpZ2h0KTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSAnYm90dG9tJzpcblx0XHRcdFx0XHRyb290LnRyYW5zbGF0ZVkoLWhhbGZIZWlnaHQpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlICdtaWRkbGUnOlxuXHRcdFx0XHRcdC8vIGRlZmF1bHRcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0XHRjb25zb2xlLndhcm4oJ0ludmFsaWQgdmFsdWUgZm9yIFwidmVydGljYWxBbGlnblwiIC0gJywgbW9kdWxlLnZlcnRpY2FsQWxpZ24pO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHNlbGYuc2NlbmUuYWRkKHJvb3QpO1xuXG5cdFx0XHRpZihzZWxmLnByZXZpZXdDYW1lcmEpe1xuXHRcdFx0XHRyb290LmFkZCggbmV3IFRIUkVFLkF4aXNIZWxwZXIoMSkgKTtcblx0XHRcdH1cblx0XHRcblx0XHRcdHNlbGYubG9hZEFzc2V0cyhtb2R1bGUuYXNzZXRzLCBzaW5nbGV0b25zKS50aGVuKChyZXN1bHRzKSA9PiB7XG5cdFx0XHRcdG1vZHVsZS5pbml0aWFsaXplKHNlbGYuZW52LCByb290LCByZXN1bHRzKTtcblx0XHRcdH0pO1xuXHRcdH0pO1xuXHRcdFxuXHRcdC8vIHN0YXJ0IGFuaW1hdGluZ1xuXHRcdHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24gYW5pbWF0ZSh0aW1lc3RhbXApXG5cdFx0e1xuXHRcdFx0d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShhbmltYXRlKTtcblx0XHRcdHNlbGYuc2NlbmUudXBkYXRlQWxsQmVoYXZpb3JzKCk7XG5cdFx0XHRpZih3aW5kb3cuVFdFRU4pIFRXRUVOLnVwZGF0ZSgpO1xuXHRcdFx0c2VsZi5yZW5kZXJlci5yZW5kZXIoc2VsZi5zY2VuZSwgc2VsZi5wcmV2aWV3Q2FtZXJhKTtcblx0XHR9KTtcblx0fVxuXG5cdGxvYWRBc3NldHMobWFuaWZlc3QsIHNpbmdsZXRvbnMpXG5cdHtcblx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT5cblx0XHR7XG5cdFx0XHQvLyBwb3B1bGF0ZSBjYWNoZVxuXHRcdFx0UHJvbWlzZS5hbGwoW1xuXG5cdFx0XHRcdC8vIHBvcHVsYXRlIG1vZGVsIGNhY2hlXG5cdFx0XHRcdC4uLk9iamVjdC5rZXlzKG1hbmlmZXN0Lm1vZGVscyB8fCB7fSkubWFwKGlkID0+IExvYWRlcnMuTW9kZWxQcm9taXNlKG1hbmlmZXN0Lm1vZGVsc1tpZF0pKSxcblxuXHRcdFx0XHQvLyBwb3B1bGF0ZSBleHBsaWNpdCB0ZXh0dXJlIGNhY2hlXG5cdFx0XHRcdC4uLk9iamVjdC5rZXlzKG1hbmlmZXN0LnRleHR1cmVzIHx8IHt9KS5tYXAoaWQgPT4gTG9hZGVycy5UZXh0dXJlUHJvbWlzZShtYW5pZmVzdC50ZXh0dXJlc1tpZF0pKSxcblxuXHRcdFx0XHQvLyBnZW5lcmF0ZSBhbGwgcG9zdGVyc1xuXHRcdFx0XHQuLi5PYmplY3Qua2V5cyhtYW5pZmVzdC5wb3N0ZXJzIHx8IHt9KS5tYXAoaWQgPT4gTG9hZGVycy5Qb3N0ZXJQcm9taXNlKG1hbmlmZXN0LnBvc3RlcnNbaWRdKSlcblx0XHRcdF0pXG5cblx0XHRcdC50aGVuKCgpID0+XG5cdFx0XHR7XG5cdFx0XHRcdC8vIHBvcHVsYXRlIHBheWxvYWQgZnJvbSBjYWNoZVxuXHRcdFx0XHR2YXIgcGF5bG9hZCA9IHttb2RlbHM6IHt9LCB0ZXh0dXJlczoge30sIHBvc3RlcnM6IHt9fTtcblxuXHRcdFx0XHRmb3IobGV0IGkgaW4gbWFuaWZlc3QubW9kZWxzKXtcblx0XHRcdFx0XHRsZXQgdXJsID0gbWFuaWZlc3QubW9kZWxzW2ldO1xuXHRcdFx0XHRcdGxldCB0ID0gTG9hZGVycy5fY2FjaGUubW9kZWxzW3VybF07XG5cdFx0XHRcdFx0cGF5bG9hZC5tb2RlbHNbaV0gPSB0ID8gc2luZ2xldG9uc1t1cmxdID8gdCA6IHQuY2xvbmUoKSA6IG51bGw7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRmb3IobGV0IGkgaW4gbWFuaWZlc3QudGV4dHVyZXMpe1xuXHRcdFx0XHRcdGxldCB1cmwgPSBtYW5pZmVzdC50ZXh0dXJlc1tpXTtcblx0XHRcdFx0XHRsZXQgdCA9IExvYWRlcnMuX2NhY2hlLnRleHR1cmVzW3VybF07XG5cdFx0XHRcdFx0cGF5bG9hZC50ZXh0dXJlc1tpXSA9IHQgPyBzaW5nbGV0b25zW3VybF0gPyB0IDogdC5jbG9uZSgpIDogbnVsbDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGZvcihsZXQgaSBpbiBtYW5pZmVzdC5wb3N0ZXJzKXtcblx0XHRcdFx0XHRsZXQgdXJsID0gbWFuaWZlc3QucG9zdGVyc1tpXTtcblx0XHRcdFx0XHRsZXQgdCA9IExvYWRlcnMuX2NhY2hlLnBvc3RlcnNbdXJsXTtcblx0XHRcdFx0XHRwYXlsb2FkLnBvc3RlcnNbaV0gPSB0ID8gc2luZ2xldG9uc1t1cmxdID8gdCA6IHQuY2xvbmUoKSA6IG51bGw7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXNvbHZlKHBheWxvYWQpO1xuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdH1cblxufTtcbiJdLCJuYW1lcyI6WyJNb2RlbFByb21pc2UiLCJ1cmwiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImNhY2hlIiwibW9kZWxzIiwidGVzdCIsIlRIUkVFIiwiZ2xURkxvYWRlciIsImxldCIsImxvYWRlciIsImxvYWQiLCJyZXN1bHQiLCJzY2VuZSIsImNoaWxkcmVuIiwiY29uc29sZSIsImVycm9yIiwiQ29sbGFkYUxvYWRlciIsIlRleHR1cmVQcm9taXNlIiwidGV4dHVyZXMiLCJUZXh0dXJlTG9hZGVyIiwidGV4dHVyZSIsIlBvc3RlclByb21pc2UiLCJwb3N0ZXJzIiwidGhlbiIsInRleCIsImdlbyIsInJhdGlvIiwiaW1hZ2UiLCJ3aWR0aCIsImhlaWdodCIsIm1hdCIsIk1lc2hCYXNpY01hdGVyaWFsIiwibWFwIiwic2lkZSIsIkRvdWJsZVNpZGUiLCJQbGFuZUdlb21ldHJ5IiwiTWVzaCIsIlByZXZpZXdDYW1lcmEiLCJmb2N1cyIsInZpZXdTaXplIiwibG9va0RpcmVjdGlvbiIsInN1cGVyIiwidGhpcyIsInNldHRpbmdzIiwid2luZG93IiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsIkpTT04iLCJwYXJzZSIsIlZlY3RvcjMiLCJmcm9tQXJyYXkiLCJfdmlld1NpemUiLCJfZm9jdXMiLCJfbG9va0RpcmVjdGlvbiIsImdyaWRIZWxwZXIiLCJHcmlkSGVscGVyIiwicHJvdG90eXBlQWNjZXNzb3JzIiwidmFsIiwicmVjb21wdXRlVmlld3BvcnQiLCJjb3B5IiwicmVnaXN0ZXJIb29rcyIsInJlbmRlcmVyIiwic2VsZiIsImRvY3VtZW50IiwiYm9keSIsInBhcmVudEVsZW1lbnQiLCJzdHlsZSIsIm1hcmdpbiIsIm92ZXJmbG93IiwiaW5mbyIsImNyZWF0ZUVsZW1lbnQiLCJpbm5lckhUTUwiLCJqb2luIiwiT2JqZWN0IiwiYXNzaWduIiwicG9zaXRpb24iLCJ0b3AiLCJsZWZ0IiwiYXBwZW5kQ2hpbGQiLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsImRyYWdTdGFydCIsImZvY3VzU3RhcnQiLCJidXR0b24iLCJ4IiwiY2xpZW50WCIsInkiLCJjbGllbnRZIiwiY2xvbmUiLCJ3IiwiaCIsInBpeGVsc1Blck1ldGVyIiwiTWF0aCIsInNxcnQiLCJkeCIsImR5IiwicmlnaHQiLCJjcm9zc1ZlY3RvcnMiLCJ1cCIsImFkZCIsIm11bHRpcGx5U2NhbGFyIiwiZGVsdGFZIiwia2V5IiwiYXBwbHlBeGlzQW5nbGUiLCJQSSIsInNldFNpemUiLCJib3R0b20iLCJ1cGRhdGVQcm9qZWN0aW9uTWF0cml4Iiwic3ViIiwiYWJzIiwibm9ybWFsaXplIiwiZG90Iiwic2V0IiwibG9va0F0Iiwic2V0SXRlbSIsInN0cmluZ2lmeSIsInRvQXJyYXkiLCJPcnRob2dyYXBoaWNDYW1lcmEiLCJEaW9yYW1hIiwicmVmIiwiU2NlbmUiLCJhbHRzcGFjZSIsImluQ2xpZW50IiwiZ2V0VGhyZWVKU1JlbmRlcmVyIiwiX2VudlByb21pc2UiLCJhbGwiLCJnZXRFbmNsb3N1cmUiLCJnZXRTcGFjZSIsInMiLCJlbnYiLCJmcmVlemUiLCJzY2FsZSIsImZ1bGxzcGFjZSIsInJlcXVlc3RGdWxsc3BhY2UiLCJjYXRjaCIsImxvZyIsIldlYkdMUmVuZGVyZXIiLCJjbGllbnRXaWR0aCIsImNsaWVudEhlaWdodCIsInNldENsZWFyQ29sb3IiLCJiZ0NvbG9yIiwiZG9tRWxlbWVudCIsInByZXZpZXdDYW1lcmEiLCJncmlkT2Zmc2V0IiwidXRpbGl0aWVzIiwic2hpbXMiLCJjdXJzb3IiLCJpbml0IiwiaW5uZXJXaWR0aCIsImlubmVySGVpZ2h0IiwiaW5uZXJEZXB0aCIsInNpZCIsIm5hbWUiLCJ0ZW1wbGF0ZVNpZCIsInN0YXJ0IiwibW9kdWxlcyIsInNpbmdsZXRvbnMiLCJmb3JFYWNoIiwibW9kIiwiY2hlY2tBc3NldCIsInVuZGVmaW5lZCIsImtleXMiLCJhc3NldHMiLCJrIiwibmVlZHNTa2VsZXRvbiIsInJlZHVjZSIsIm5zIiwibSIsImdldFRocmVlSlNUcmFja2luZ1NrZWxldG9uIiwic2tlbCIsIm1vZHVsZSIsInJvb3QiLCJPYmplY3QzRCIsInRyYW5zZm9ybSIsIm1hdHJpeCIsImRlY29tcG9zZSIsInF1YXRlcm5pb24iLCJyb3RhdGlvbiIsInZlcnRpY2FsQWxpZ24iLCJoYWxmSGVpZ2h0IiwidHJhbnNsYXRlWSIsIndhcm4iLCJBeGlzSGVscGVyIiwibG9hZEFzc2V0cyIsInJlc3VsdHMiLCJpbml0aWFsaXplIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiYW5pbWF0ZSIsInRpbWVzdGFtcCIsInVwZGF0ZUFsbEJlaGF2aW9ycyIsIlRXRUVOIiwidXBkYXRlIiwicmVuZGVyIiwibWFuaWZlc3QiLCJpZCIsIkxvYWRlcnMuTW9kZWxQcm9taXNlIiwiTG9hZGVycy5UZXh0dXJlUHJvbWlzZSIsIkxvYWRlcnMuUG9zdGVyUHJvbWlzZSIsInBheWxvYWQiLCJpIiwidCIsIkxvYWRlcnMuX2NhY2hlIl0sIm1hcHBpbmdzIjoibUNBSUEsU0FBU0EsR0FBYUMsR0FFckIsTUFBTyxJQUFJQyxTQUFRLFNBQUNDLEVBQVNDLEdBRTVCLEdBQUdDLEVBQU1DLE9BQU9MLEdBQ2YsTUFBT0UsR0FBUUUsRUFBTUMsT0FBT0wsR0FJeEIsSUFBRyxX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
