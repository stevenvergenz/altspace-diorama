var Diorama=function(){"use strict";var e=function(e){function t(t){e.call(this,function(e,o){if(/\.gltf$/i.test(t))if(THREE.glTFLoader){var r=new THREE.glTFLoader;r.load(t,function(t){e(t.scene.children[0].children[0])})}else console.error('THREE.glTFLoader not found. "'+t+'" not loaded.'),o();else if(/\.dae$/i.test(t))if(THREE.ColladaLoader){var i=new THREE.ColladaLoader;i.load(t,function(t){return e(t.scene.children[0])},null,o)}else console.error('THREE.ColladaLoader not found. "'+t+'" not loaded.'),o()})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Promise),t=function(e){function t(t){e.call(this,function(e,o){var r=new THREE.TextureLoader;r.load(t,e,null,o)})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Promise),o=function(e){function t(t,o,r){e.call(this,-1,1,1,-1,.1,400);var i=window.localStorage.getItem("dioramaViewSettings");i&&(i=JSON.parse(i),t||(t=(new THREE.Vector3).fromArray(i.focus)),o||(o=i.viewSize),r||(r=(new THREE.Vector3).fromArray(i.lookDirection))),this._viewSize=o||40,this._focus=t||new THREE.Vector3,this._lookDirection=r||new THREE.Vector3(0,-1,0),this.gridHelper=new THREE.GridHelper(300,1)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var o={viewSize:{},focus:{},lookDirection:{}};return o.viewSize.get=function(){return this._viewSize},o.viewSize.set=function(e){this._viewSize=e,this.recomputeViewport()},o.focus.get=function(){return this._focus},o.focus.set=function(e){this._focus.copy(e),this.recomputeViewport()},o.lookDirection.get=function(){return this._lookDirection},o.lookDirection.set=function(e){this._lookDirection.copy(e),this.recomputeViewport()},t.prototype.registerHooks=function(e){var t=this;t.renderer=e,document.body.parentElement.style.height="100%",document.body.style.height="100%",document.body.style.margin="0",document.body.style.overflow="hidden";var o=document.createElement("p");o.innerHTML=["Middle click and drag to pan","Mouse wheel to zoom","Arrow keys to rotate"].join("<br/>"),Object.assign(o.style,{position:"fixed",top:"10px",left:"10px",margin:0}),document.body.appendChild(o),window.addEventListener("resize",function(e){return t.recomputeViewport()}),t.recomputeViewport();var r=null,i=null;window.addEventListener("mousedown",function(e){1===e.button&&(r={x:e.clientX,y:e.clientY},i=t._focus.clone())}),window.addEventListener("mouseup",function(e){1===e.button&&(r=null,i=null)}),window.addEventListener("mousemove",function(e){if(r){var o=document.body,n=o.clientWidth,s=o.clientHeight,a=Math.sqrt(n*n+s*s)/t._viewSize,c=e.clientX-r.x,l=e.clientY-r.y,u=(new THREE.Vector3).crossVectors(t._lookDirection,t.up);t._focus.copy(i).add(t.up.clone().multiplyScalar(l/a)).add(u.multiplyScalar(-c/a)),t.recomputeViewport()}}),window.addEventListener("wheel",function(e){e.deltaY<0?(t._viewSize*=.9,t.recomputeViewport()):e.deltaY>0&&(t._viewSize*=1.1,t.recomputeViewport())}),window.addEventListener("keydown",function(e){if("ArrowDown"===e.key){var o=(new THREE.Vector3).crossVectors(t._lookDirection,t.up);t._lookDirection.applyAxisAngle(o,Math.PI/2),t.recomputeViewport()}else if("ArrowUp"===e.key){var r=(new THREE.Vector3).crossVectors(t._lookDirection,t.up);t._lookDirection.applyAxisAngle(r,-Math.PI/2),t.recomputeViewport()}else"ArrowLeft"===e.key?(t._lookDirection.applyAxisAngle(t.up,-Math.PI/2),t.recomputeViewport()):"ArrowRight"===e.key&&(t._lookDirection.applyAxisAngle(t.up,Math.PI/2),t.recomputeViewport())})},t.prototype.recomputeViewport=function(){var e=document.body,t=e.clientWidth,o=e.clientHeight;this.renderer.setSize(t,o);var r=t/o,i=Math.sqrt(this._viewSize*this._viewSize/(r*r+1)),n=r*i;this.left=-n/2,this.right=n/2,this.top=i/2,this.bottom=-i/2,this.updateProjectionMatrix(),this.position.copy(this._focus).sub(this._lookDirection.clone().multiplyScalar(200)),1===Math.abs(this._lookDirection.normalize().dot(new THREE.Vector3(0,-1,0)))?this.up.set(0,0,1):this.up.set(0,1,0),this.lookAt(this._focus),window.localStorage.setItem("dioramaViewSettings",JSON.stringify({focus:this._focus.toArray(),viewSize:this._viewSize,lookDirection:this._lookDirection.toArray()}))},Object.defineProperties(t.prototype,o),t}(THREE.OrthographicCamera),r=function(e){void 0===e&&(e={});var t=e.bgColor;void 0===t&&(t=11184810);var r=e.gridOffset;void 0===r&&(r=new THREE.Vector3);var i=this;i.assetCache={models:{},textures:{},videos:{}},i.scene=new THREE.Scene,altspace.inClient?(i.renderer=altspace.getThreeJSRenderer(),i._envPromise=Promise.all([altspace.getEnclosure(),altspace.getSpace()]).then(function(e){var t=e[0],o=e[1];i.env=Object.freeze(Object.assign({},t,o)),i.scene.scale.multiplyScalar(t.pixelsPerMeter)})):(i.renderer=new THREE.WebGLRenderer,i.renderer.setSize(document.body.clientWidth,document.body.clientHeight),i.renderer.setClearColor(t),document.body.appendChild(i.renderer.domElement),i.previewCamera=new o,i.previewCamera.gridHelper.position.copy(r),i.scene.add(i.previewCamera,i.previewCamera.gridHelper),i.previewCamera.registerHooks(i.renderer),altspace.utilities.shims.cursor.init(i.scene,i.previewCamera,{renderer:i.renderer}),i.env=Object.freeze({innerWidth:1024,innerHeight:1024,innerDepth:1024,pixelsPerMeter:1024/3,sid:"browser",name:"browser",templateSid:"browser"}))};return r.prototype.start=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var o=this;if(!o.env)return o._envPromise.then(function(){o.start.apply(o,e)});var r={};e.forEach(function(e){function t(e){void 0===r[e]?r[e]=!0:r[e]===!0&&(r[e]=!1)}Object.keys(e.assets.textures||{}).map(function(t){return e.assets.textures[t]}).forEach(t),Object.keys(e.assets.models||{}).map(function(t){return e.assets.models[t]}).forEach(t)});var i=e.reduce(function(e,t){return e||t.needsSkeleton},!1);i&&altspace.inClient&&altspace.getThreeJSTrackingSkeleton().then(function(e){o.scene.add(e),o.env.skel=e}),e.forEach(function(e){var t=null;if(e instanceof THREE.Object3D?t=e:(t=new THREE.Object3D,e.transform?(t.matrix.fromArray(e.transform),t.matrix.decompose(t.position,t.quaternion,t.scale)):(e.position&&t.position.fromArray(e.position),e.rotation&&t.rotation.fromArray(e.rotation))),e.verticalAlign){var i=o.env.innerHeight/(2*o.env.pixelsPerMeter);switch(e.verticalAlign){case"top":t.translateY(i);break;case"bottom":t.translateY(-i);break;case"middle":break;default:console.warn('Invalid value for "verticalAlign" - ',e.verticalAlign)}}o.scene.add(t),o.previewCamera&&t.add(new THREE.AxisHelper(1)),o.loadAssets(e.assets,r).then(function(r){e.initialize(o.env,t,r)})}),window.requestAnimationFrame(function e(t){window.requestAnimationFrame(e),o.scene.updateAllBehaviors(),window.TWEEN&&TWEEN.update(),o.renderer.render(o.scene,o.previewCamera)})},r.prototype.loadAssets=function(o,r){var i=this,n=function(e){function t(t){e.call(this,function(e,o){function r(){0===--i&&e()}var i=t.length;t.forEach(function(e){e.then(r,r)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Promise);return new Promise(function(s,a){n([Promise.all(Object.keys(o.models||{}).map(function(t){var r=o.models[t];return i.assetCache.models[r]?Promise.resolve(i.assetCache.models[r]):e(r).then(function(e){i.assetCache.models[r]=e})})),Promise.all(Object.keys(o.textures||{}).map(function(e){var r=o.textures[e];return i.assetCache.textures[r]?Promise.resolve(i.assetCache.textures[r]):t(r).then(function(e){i.assetCache.textures[r]=e})}))]).then(function(){var e={models:{},textures:{}};for(var t in o.models){var n=o.models[t],a=i.assetCache.models[n];e.models[t]=a?r[n]?a:a.clone():null}for(var c in o.textures){var l=o.textures[c],u=i.assetCache.textures[l];e.textures[c]=u?r[l]?u:u.clone():null}s(e)})})},r}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjpudWxsLCJzb3VyY2VzIjpbIi4uL3NyYy9sb2FkZXJzLmpzIiwiLi4vc3JjL2NhbWVyYS5qcyIsIi4uL3NyYy9tYWluLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuY2xhc3MgTW9kZWxQcm9taXNlIGV4dGVuZHMgUHJvbWlzZSB7XG5cdGNvbnN0cnVjdG9yKHVybCl7XG5cdFx0c3VwZXIoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0Ly8gTk9URTogZ2xURiBsb2FkZXIgZG9lcyBub3QgY2F0Y2ggZXJyb3JzXG5cdFx0XHRpZigvXFwuZ2x0ZiQvaS50ZXN0KHVybCkpe1xuXHRcdFx0XHRpZihUSFJFRS5nbFRGTG9hZGVyKXtcblx0XHRcdFx0XHRsZXQgbG9hZGVyID0gbmV3IFRIUkVFLmdsVEZMb2FkZXIoKTtcblx0XHRcdFx0XHRsb2FkZXIubG9hZCh1cmwsIChyZXN1bHQpID0+IHtcblx0XHRcdFx0XHRcdHJlc29sdmUocmVzdWx0LnNjZW5lLmNoaWxkcmVuWzBdLmNoaWxkcmVuWzBdKTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fVxuXHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHRjb25zb2xlLmVycm9yKGBUSFJFRS5nbFRGTG9hZGVyIG5vdCBmb3VuZC4gXCIke3VybH1cIiBub3QgbG9hZGVkLmApO1xuXHRcdFx0XHRcdHJlamVjdCgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRlbHNlIGlmKC9cXC5kYWUkL2kudGVzdCh1cmwpKXtcblx0XHRcdFx0aWYoVEhSRUUuQ29sbGFkYUxvYWRlcil7XG5cdFx0XHRcdFx0bGV0IGxvYWRlciA9IG5ldyBUSFJFRS5Db2xsYWRhTG9hZGVyKCk7XG5cdFx0XHRcdFx0bG9hZGVyLmxvYWQodXJsLCByZXN1bHQgPT4gcmVzb2x2ZShyZXN1bHQuc2NlbmUuY2hpbGRyZW5bMF0pLCBudWxsLCByZWplY3QpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGVsc2Uge1xuXHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IoYFRIUkVFLkNvbGxhZGFMb2FkZXIgbm90IGZvdW5kLiBcIiR7dXJsfVwiIG5vdCBsb2FkZWQuYCk7XG5cdFx0XHRcdFx0cmVqZWN0KCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9KTtcblx0fVxufVxuXG5jbGFzcyBUZXh0dXJlUHJvbWlzZSBleHRlbmRzIFByb21pc2Uge1xuXHRjb25zdHJ1Y3Rvcih1cmwpe1xuXHRcdHN1cGVyKChyZXNvbHZlLCByZWplY3QpID0+XG5cdFx0e1xuXHRcdFx0dmFyIGxvYWRlciA9IG5ldyBUSFJFRS5UZXh0dXJlTG9hZGVyKCk7XG5cdFx0XHRsb2FkZXIubG9hZCh1cmwsIHJlc29sdmUsIG51bGwsIHJlamVjdCk7XG5cdFx0fSk7XG5cdH1cbn1cblxuY2xhc3MgVmlkZW9Qcm9taXNlIGV4dGVuZHMgUHJvbWlzZSB7XG5cdGNvbnN0cnVjdG9yKHVybClcblx0e1xuXHRcdC8vIHN0YXJ0IGxvYWRlclxuXHRcdHZhciB2aWRTcmMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd2aWRlbycpO1xuXHRcdHZpZFNyYy5hdXRvcGxheSA9IHRydWU7XG5cdFx0dmlkU3JjLmxvb3AgPSB0cnVlO1xuXHRcdHZpZFNyYy5zcmMgPSB1cmw7XG5cdFx0dmlkU3JjLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cdFx0ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh2aWRTcmMpO1xuXG5cdFx0dmFyIHRleCA9IG5ldyBUSFJFRS5WaWRlb1RleHR1cmUodmlkU3JjKTtcblx0XHR0ZXgubWluRmlsdGVyID0gVEhSRUUuTGluZWFyRmlsdGVyO1xuXHRcdHRleC5tYWdGaWx0ZXIgPSBUSFJFRS5MaW5lYXJGaWx0ZXI7XG5cdFx0dGV4LmZvcm1hdCA9IFRIUkVFLlJHQkZvcm1hdDtcblxuXHRcdC8vY2FjaGUudmlkZW9zW3VybF0gPSB0ZXg7XG5cdFx0Ly9wYXlsb2FkLnZpZGVvc1tpZF0gPSBjYWNoZS52aWRlb3NbdXJsXTtcblxuXHRcdHJldHVybiBQcm9taXNlLnJlc29sdmUodGV4KTtcblx0fVxufVxuXG5jbGFzcyBQb3N0ZXJQcm9taXNlIGV4dGVuZHMgUHJvbWlzZSB7XG5cdGNvbnN0cnVjdG9yKHVybCl7XG5cdFx0c3VwZXIoKHJlc29sdmUsIHJlamVjdCkgPT4gXG5cdFx0e1xuXHRcdFx0ZnVuY3Rpb24gb25sb2FkKGltZylcblx0XHRcdHtcblx0XHRcdFx0bGV0IHdpZHRoID0gaW1nLndpZHRoLCBoZWlnaHQgPSBpbWcuaGVpZ2h0LCByYXRpbyA9IGltZy53aWR0aC9pbWcuaGVpZ2h0O1xuXHRcdFx0XHRcblx0XHRcdFx0bGV0IHRleCA9IG5ldyBUSFJFRS5UZXh0dXJlKGltZyk7XG5cdFx0XHRcdGxldCBtYXQgPSBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoe21hcDogdGV4LCBzaWRlOiBUSFJFRS5Eb3VibGVTaWRlfSk7XG5cdFx0XHRcdGxldCBnZW8gPSBuZXcgVEhSRUUuUGxhbmVHZW9tZXRyeSguLi4ocmF0aW8gPiAxID8gWzEsIDEvcmF0aW9dIDogW3JhdGlvLCAxXSkpO1xuXHRcdFx0XHRsZXQgbWVzaCA9IG5ldyBUSFJFRS5NZXNoKGdlbywgbWF0KTtcblx0XHRcdFx0XG5cdFx0XHRcdHJlc29sdmUobWVzaCk7XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdGZ1bmN0aW9uIG9uZXJyb3IoZSl7XG5cdFx0XHRcdHJlamVjdChlKTtcblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0bGV0IGxvYWRlciA9IG5ldyBUSFJFRS5JbWFnZUxvYWRlcigpO1xuXHRcdFx0bG9hZGVyLmxvYWQodXJsLCBvbmxvYWQsIG51bGwsIG9uZXJyb3IpO1xuXHRcdFx0XG5cdFx0XHRcblx0XHRcdFxuXHRcdFx0LypmdW5jdGlvbiBnZW5lcmF0ZVBvc3Rlcih0ZXh0dXJlLCB3aWR0aCwgaGVpZ2h0KVxuXHRcdFx0e1xuXHRcdFx0XHR2YXIgcCA9IHRlbXBsYXRlLmNsb25lKCk7XG5cdFx0XHRcdHAubWF0ZXJpYWwgPSBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoe21hcDogdGV4dHVyZX0pO1xuXHRcdFx0XHRwLm1hdGVyaWFsLnNpZGUgPSBUSFJFRS5Eb3VibGVTaWRlO1xuXHRcdFx0XHRcblx0XHRcdFx0cC5zY2FsZS5zZXQod2lkdGgsIGhlaWdodCwgMSk7XG5cblx0XHRcdFx0dmFyIHJhdGlvID0gd2lkdGgvaGVpZ2h0O1xuXHRcdFx0XHRpZihyYXRpbyA+IDEpe1xuXHRcdFx0XHRcdHRleHR1cmUucmVwZWF0LnNldCgxLCAxL3JhdGlvKTtcblx0XHRcdFx0XHR0ZXh0dXJlLm9mZnNldC5zZXQoMCwgMS0xL3JhdGlvKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHR0ZXh0dXJlLnJlcGVhdC5zZXQoMS9yYXRpbywgMSk7XG5cdFx0XHRcdFx0dGV4dHVyZS5vZmZzZXQuc2V0KDAsIDApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIHA7XG5cdFx0XHR9Ki9cblx0XHR9KTtcblx0fVxufVxuXG5leHBvcnQgeyBNb2RlbFByb21pc2UsIFRleHR1cmVQcm9taXNlLCBWaWRlb1Byb21pc2UsIFBvc3RlclByb21pc2UgfTtcblxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQcmV2aWV3Q2FtZXJhIGV4dGVuZHMgVEhSRUUuT3J0aG9ncmFwaGljQ2FtZXJhXG57XG5cdGNvbnN0cnVjdG9yKGZvY3VzLCB2aWV3U2l6ZSwgbG9va0RpcmVjdGlvbilcblx0e1xuXHRcdHN1cGVyKC0xLCAxLCAxLCAtMSwgLjEsIDQwMCk7XG5cblx0XHRsZXQgc2V0dGluZ3MgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2Rpb3JhbWFWaWV3U2V0dGluZ3MnKTtcblx0XHRpZihzZXR0aW5ncyl7XG5cdFx0XHRzZXR0aW5ncyA9IEpTT04ucGFyc2Uoc2V0dGluZ3MpO1xuXHRcdFx0aWYoIWZvY3VzKVxuXHRcdFx0XHRmb2N1cyA9IG5ldyBUSFJFRS5WZWN0b3IzKCkuZnJvbUFycmF5KHNldHRpbmdzLmZvY3VzKTtcblx0XHRcdGlmKCF2aWV3U2l6ZSlcblx0XHRcdFx0dmlld1NpemUgPSBzZXR0aW5ncy52aWV3U2l6ZTtcblx0XHRcdGlmKCFsb29rRGlyZWN0aW9uKVxuXHRcdFx0XHRsb29rRGlyZWN0aW9uID0gbmV3IFRIUkVFLlZlY3RvcjMoKS5mcm9tQXJyYXkoc2V0dGluZ3MubG9va0RpcmVjdGlvbik7XG5cdFx0fVxuXG5cdFx0dGhpcy5fdmlld1NpemUgPSB2aWV3U2l6ZSB8fCA0MDtcblx0XHR0aGlzLl9mb2N1cyA9IGZvY3VzIHx8IG5ldyBUSFJFRS5WZWN0b3IzKCk7XG5cdFx0dGhpcy5fbG9va0RpcmVjdGlvbiA9IGxvb2tEaXJlY3Rpb24gfHwgbmV3IFRIUkVFLlZlY3RvcjMoMCwtMSwwKTtcblx0XHR0aGlzLmdyaWRIZWxwZXIgPSBuZXcgVEhSRUUuR3JpZEhlbHBlcigzMDAsIDEpO1xuXHRcdC8vdGhpcy5ncmlkSGVscGVyLnF1YXRlcm5pb24uc2V0RnJvbVVuaXRWZWN0b3JzKCBuZXcgVEhSRUUuVmVjdG9yMygwLC0xLDApLCB0aGlzLl9sb29rRGlyZWN0aW9uICk7XG5cdH1cblxuXHRnZXQgdmlld1NpemUoKXtcblx0XHRyZXR1cm4gdGhpcy5fdmlld1NpemU7XG5cdH1cblx0c2V0IHZpZXdTaXplKHZhbCl7XG5cdFx0dGhpcy5fdmlld1NpemUgPSB2YWw7XG5cdFx0dGhpcy5yZWNvbXB1dGVWaWV3cG9ydCgpO1xuXHR9XG5cblx0Z2V0IGZvY3VzKCl7XG5cdFx0cmV0dXJuIHRoaXMuX2ZvY3VzO1xuXHR9XG5cdHNldCBmb2N1cyh2YWwpe1xuXHRcdHRoaXMuX2ZvY3VzLmNvcHkodmFsKTtcblx0XHR0aGlzLnJlY29tcHV0ZVZpZXdwb3J0KCk7XG5cdH1cblxuXHRnZXQgbG9va0RpcmVjdGlvbigpe1xuXHRcdHJldHVybiB0aGlzLl9sb29rRGlyZWN0aW9uO1xuXHR9XG5cdHNldCBsb29rRGlyZWN0aW9uKHZhbCl7XG5cdFx0dGhpcy5fbG9va0RpcmVjdGlvbi5jb3B5KHZhbCk7XG5cdFx0dGhpcy5yZWNvbXB1dGVWaWV3cG9ydCgpO1xuXHR9XG5cblx0cmVnaXN0ZXJIb29rcyhyZW5kZXJlcilcblx0e1xuXHRcdHZhciBzZWxmID0gdGhpcztcblx0XHRzZWxmLnJlbmRlcmVyID0gcmVuZGVyZXI7XG5cblx0XHQvLyBzZXQgc3R5bGVzIG9uIHRoZSBwYWdlLCBzbyB0aGUgcHJldmlldyB3b3JrcyByaWdodFxuXHRcdGRvY3VtZW50LmJvZHkucGFyZW50RWxlbWVudC5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XG5cdFx0ZG9jdW1lbnQuYm9keS5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XG5cdFx0ZG9jdW1lbnQuYm9keS5zdHlsZS5tYXJnaW4gPSAnMCc7XG5cdFx0ZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuXG5cdFx0dmFyIGluZm8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG5cdFx0aW5mby5pbm5lckhUTUwgPSBbJ01pZGRsZSBjbGljayBhbmQgZHJhZyB0byBwYW4nLCAnTW91c2Ugd2hlZWwgdG8gem9vbScsICdBcnJvdyBrZXlzIHRvIHJvdGF0ZSddLmpvaW4oJzxici8+Jyk7XG5cdFx0T2JqZWN0LmFzc2lnbihpbmZvLnN0eWxlLCB7XG5cdFx0XHRwb3NpdGlvbjogJ2ZpeGVkJyxcblx0XHRcdHRvcDogJzEwcHgnLFxuXHRcdFx0bGVmdDogJzEwcHgnLFxuXHRcdFx0bWFyZ2luOiAwXG5cdFx0fSk7XG5cdFx0ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChpbmZvKTtcblxuXHRcdC8vIHJlc2l6ZSB0aGUgcHJldmlldyBjYW52YXMgd2hlbiB3aW5kb3cgcmVzaXplc1xuXHRcdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBlID0+IHNlbGYucmVjb21wdXRlVmlld3BvcnQoKSk7XG5cdFx0c2VsZi5yZWNvbXB1dGVWaWV3cG9ydCgpO1xuXG5cdFx0Ly8gbWlkZGxlIGNsaWNrIGFuZCBkcmFnIHRvIHBhbiB2aWV3XG5cdFx0dmFyIGRyYWdTdGFydCA9IG51bGwsIGZvY3VzU3RhcnQgPSBudWxsO1xuXHRcdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBlID0+IHtcblx0XHRcdGlmKGUuYnV0dG9uID09PSAxKXtcblx0XHRcdFx0ZHJhZ1N0YXJ0ID0ge3g6IGUuY2xpZW50WCwgeTogZS5jbGllbnRZfTtcblx0XHRcdFx0Zm9jdXNTdGFydCA9IHNlbGYuX2ZvY3VzLmNsb25lKCk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBlID0+IHtcblx0XHRcdGlmKGUuYnV0dG9uID09PSAxKXtcblx0XHRcdFx0ZHJhZ1N0YXJ0ID0gbnVsbDtcblx0XHRcdFx0Zm9jdXNTdGFydCA9IG51bGw7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIGUgPT4ge1xuXHRcdFx0aWYoZHJhZ1N0YXJ0KVxuXHRcdFx0e1xuXHRcdFx0XHRsZXQge2NsaWVudFdpZHRoOiB3LCBjbGllbnRIZWlnaHQ6IGh9ID0gZG9jdW1lbnQuYm9keTtcblx0XHRcdFx0bGV0IHBpeGVsc1Blck1ldGVyID0gTWF0aC5zcXJ0KHcqdytoKmgpIC8gc2VsZi5fdmlld1NpemU7XG5cdFx0XHRcdGxldCBkeCA9IGUuY2xpZW50WCAtIGRyYWdTdGFydC54LCBkeSA9IGUuY2xpZW50WSAtIGRyYWdTdGFydC55O1xuXHRcdFx0XHRsZXQgcmlnaHQgPSBuZXcgVEhSRUUuVmVjdG9yMygpLmNyb3NzVmVjdG9ycyhzZWxmLl9sb29rRGlyZWN0aW9uLCBzZWxmLnVwKTtcblxuXHRcdFx0XHRzZWxmLl9mb2N1cy5jb3B5KGZvY3VzU3RhcnQpXG5cdFx0XHRcdFx0LmFkZChzZWxmLnVwLmNsb25lKCkubXVsdGlwbHlTY2FsYXIoZHkvcGl4ZWxzUGVyTWV0ZXIpKVxuXHRcdFx0XHRcdC5hZGQocmlnaHQubXVsdGlwbHlTY2FsYXIoLWR4L3BpeGVsc1Blck1ldGVyKSk7XG5cblx0XHRcdFx0c2VsZi5yZWNvbXB1dGVWaWV3cG9ydCgpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0Ly8gd2hlZWwgdG8gem9vbVxuXHRcdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd3aGVlbCcsIGUgPT4ge1xuXHRcdFx0aWYoZS5kZWx0YVkgPCAwKXtcblx0XHRcdFx0c2VsZi5fdmlld1NpemUgKj0gMC45MDtcblx0XHRcdFx0c2VsZi5yZWNvbXB1dGVWaWV3cG9ydCgpO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSBpZihlLmRlbHRhWSA+IDApe1xuXHRcdFx0XHRzZWxmLl92aWV3U2l6ZSAqPSAxLjE7XG5cdFx0XHRcdHNlbGYucmVjb21wdXRlVmlld3BvcnQoKTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdC8vIGFycm93IGtleXMgdG8gcm90YXRlXG5cdFx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBlID0+IHtcblx0XHRcdGlmKGUua2V5ID09PSAnQXJyb3dEb3duJyl7XG5cdFx0XHRcdGxldCByaWdodCA9IG5ldyBUSFJFRS5WZWN0b3IzKCkuY3Jvc3NWZWN0b3JzKHNlbGYuX2xvb2tEaXJlY3Rpb24sIHNlbGYudXApO1xuXHRcdFx0XHRzZWxmLl9sb29rRGlyZWN0aW9uLmFwcGx5QXhpc0FuZ2xlKHJpZ2h0LCBNYXRoLlBJLzIpO1xuXHRcdFx0XHQvL3NlbGYuZ3JpZEhlbHBlci5yb3RhdGVPbkF4aXMocmlnaHQsIE1hdGguUEkvMik7XG5cdFx0XHRcdHNlbGYucmVjb21wdXRlVmlld3BvcnQoKTtcblx0XHRcdH1cblx0XHRcdGVsc2UgaWYoZS5rZXkgPT09ICdBcnJvd1VwJyl7XG5cdFx0XHRcdGxldCByaWdodCA9IG5ldyBUSFJFRS5WZWN0b3IzKCkuY3Jvc3NWZWN0b3JzKHNlbGYuX2xvb2tEaXJlY3Rpb24sIHNlbGYudXApO1xuXHRcdFx0XHRzZWxmLl9sb29rRGlyZWN0aW9uLmFwcGx5QXhpc0FuZ2xlKHJpZ2h0LCAtTWF0aC5QSS8yKTtcblx0XHRcdFx0Ly9zZWxmLmdyaWRIZWxwZXIucm90YXRlT25BeGlzKHJpZ2h0LCAtTWF0aC5QSS8yKTtcblx0XHRcdFx0c2VsZi5yZWNvbXB1dGVWaWV3cG9ydCgpO1xuXG5cdFx0XHR9XG5cdFx0XHRlbHNlIGlmKGUua2V5ID09PSAnQXJyb3dMZWZ0Jyl7XG5cdFx0XHRcdHNlbGYuX2xvb2tEaXJlY3Rpb24uYXBwbHlBeGlzQW5nbGUoc2VsZi51cCwgLU1hdGguUEkvMik7XG5cdFx0XHRcdC8vc2VsZi5ncmlkSGVscGVyLnJvdGF0ZU9uQXhpcyhzZWxmLnVwLCAtTWF0aC5QSS8yKTtcblx0XHRcdFx0c2VsZi5yZWNvbXB1dGVWaWV3cG9ydCgpO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSBpZihlLmtleSA9PT0gJ0Fycm93UmlnaHQnKXtcblx0XHRcdFx0c2VsZi5fbG9va0RpcmVjdGlvbi5hcHBseUF4aXNBbmdsZShzZWxmLnVwLCBNYXRoLlBJLzIpO1xuXHRcdFx0XHQvL3NlbGYuZ3JpZEhlbHBlci5yb3RhdGVPbkF4aXMoc2VsZi51cCwgTWF0aC5QSS8yKTtcblx0XHRcdFx0c2VsZi5yZWNvbXB1dGVWaWV3cG9ydCgpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cblx0cmVjb21wdXRlVmlld3BvcnQoKVxuXHR7XG5cdFx0dmFyIHtjbGllbnRXaWR0aDogdywgY2xpZW50SGVpZ2h0OiBofSA9IGRvY3VtZW50LmJvZHk7XG5cblx0XHQvLyByZXNpemUgY2FudmFzXG5cdFx0dGhpcy5yZW5kZXJlci5zZXRTaXplKHcsIGgpO1xuXG5cdFx0Ly8gY29tcHV0ZSB3aW5kb3cgZGltZW5zaW9ucyBmcm9tIHZpZXcgc2l6ZVxuXHRcdHZhciByYXRpbyA9IHcvaDtcblx0XHR2YXIgaGVpZ2h0ID0gTWF0aC5zcXJ0KCAodGhpcy5fdmlld1NpemUqdGhpcy5fdmlld1NpemUpIC8gKHJhdGlvKnJhdGlvICsgMSkgKTtcblx0XHR2YXIgd2lkdGggPSByYXRpbyAqIGhlaWdodDtcblxuXHRcdC8vIHNldCBmcnVzdHJ1bSBlZGdlc1xuXHRcdHRoaXMubGVmdCA9IC13aWR0aC8yO1xuXHRcdHRoaXMucmlnaHQgPSB3aWR0aC8yO1xuXHRcdHRoaXMudG9wID0gaGVpZ2h0LzI7XG5cdFx0dGhpcy5ib3R0b20gPSAtaGVpZ2h0LzI7XG5cblx0XHR0aGlzLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcblxuXHRcdC8vIHVwZGF0ZSBwb3NpdGlvblxuXHRcdHRoaXMucG9zaXRpb24uY29weSh0aGlzLl9mb2N1cykuc3ViKCB0aGlzLl9sb29rRGlyZWN0aW9uLmNsb25lKCkubXVsdGlwbHlTY2FsYXIoMjAwKSApO1xuXHRcdGlmKCBNYXRoLmFicyggdGhpcy5fbG9va0RpcmVjdGlvbi5ub3JtYWxpemUoKS5kb3QobmV3IFRIUkVFLlZlY3RvcjMoMCwtMSwwKSkgKSA9PT0gMSApXG5cdFx0XHR0aGlzLnVwLnNldCgwLDAsMSk7IC8vIGlmIHdlJ3JlIGxvb2tpbmcgZG93biB0aGUgWSBheGlzXG5cdFx0ZWxzZVxuXHRcdFx0dGhpcy51cC5zZXQoMCwxLDApO1xuXHRcdHRoaXMubG9va0F0KCB0aGlzLl9mb2N1cyApO1xuXG5cdFx0d2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCdkaW9yYW1hVmlld1NldHRpbmdzJywgSlNPTi5zdHJpbmdpZnkoe1xuXHRcdFx0Zm9jdXM6IHRoaXMuX2ZvY3VzLnRvQXJyYXkoKSxcblx0XHRcdHZpZXdTaXplOiB0aGlzLl92aWV3U2l6ZSxcblx0XHRcdGxvb2tEaXJlY3Rpb246IHRoaXMuX2xvb2tEaXJlY3Rpb24udG9BcnJheSgpXG5cdFx0fSkpO1xuXHR9XG59XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCAqIGFzIExvYWRlcnMgZnJvbSAnLi9sb2FkZXJzJztcbmltcG9ydCBQcmV2aWV3Q2FtZXJhIGZyb20gJy4vY2FtZXJhJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRGlvcmFtYVxue1xuXHRjb25zdHJ1Y3Rvcih7YmdDb2xvcj0weGFhYWFhYSwgZ3JpZE9mZnNldD1uZXcgVEhSRUUuVmVjdG9yMygpfSA9IHt9KVxuXHR7XG5cdFx0dmFyIHNlbGYgPSB0aGlzO1xuXG5cdFx0c2VsZi5hc3NldENhY2hlID0ge1xuXHRcdFx0bW9kZWxzOiB7fSxcblx0XHRcdHRleHR1cmVzOiB7fSxcblx0XHRcdHZpZGVvczoge31cblx0XHR9O1xuXG5cdFx0c2VsZi5zY2VuZSA9IG5ldyBUSFJFRS5TY2VuZSgpO1xuXG5cdFx0Ly8gc2V0IHVwIHJlbmRlcmVyIGFuZCBzY2FsZVxuXHRcdGlmKGFsdHNwYWNlLmluQ2xpZW50KVxuXHRcdHtcblx0XHRcdHNlbGYucmVuZGVyZXIgPSBhbHRzcGFjZS5nZXRUaHJlZUpTUmVuZGVyZXIoKTtcblx0XHRcdHNlbGYuX2VudlByb21pc2UgPSBQcm9taXNlLmFsbChbYWx0c3BhY2UuZ2V0RW5jbG9zdXJlKCksIGFsdHNwYWNlLmdldFNwYWNlKCldKVxuXHRcdFx0LnRoZW4oZnVuY3Rpb24oW2UsIHNdKXtcblx0XHRcdFx0c2VsZi5lbnYgPSBPYmplY3QuZnJlZXplKE9iamVjdC5hc3NpZ24oe30sIGUsIHMpKTtcblx0XHRcdFx0c2VsZi5zY2VuZS5zY2FsZS5tdWx0aXBseVNjYWxhcihlLnBpeGVsc1Blck1ldGVyKTtcblx0XHRcdH0pO1xuXHRcdH1cblx0XHRlbHNlXG5cdFx0e1xuXHRcdFx0Ly8gc2V0IHVwIHByZXZpZXcgcmVuZGVyZXIsIGluIGNhc2Ugd2UncmUgb3V0IG9mIHdvcmxkXG5cdFx0XHRzZWxmLnJlbmRlcmVyID0gbmV3IFRIUkVFLldlYkdMUmVuZGVyZXIoKTtcblx0XHRcdHNlbGYucmVuZGVyZXIuc2V0U2l6ZShkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoLCBkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodCk7XG5cdFx0XHRzZWxmLnJlbmRlcmVyLnNldENsZWFyQ29sb3IoIGJnQ29sb3IgKTtcblx0XHRcdGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc2VsZi5yZW5kZXJlci5kb21FbGVtZW50KTtcblx0XHRcblx0XHRcdHNlbGYucHJldmlld0NhbWVyYSA9IG5ldyBQcmV2aWV3Q2FtZXJhKCk7XG5cdFx0XHRzZWxmLnByZXZpZXdDYW1lcmEuZ3JpZEhlbHBlci5wb3NpdGlvbi5jb3B5KGdyaWRPZmZzZXQpO1xuXHRcdFx0c2VsZi5zY2VuZS5hZGQoc2VsZi5wcmV2aWV3Q2FtZXJhLCBzZWxmLnByZXZpZXdDYW1lcmEuZ3JpZEhlbHBlcik7XG5cdFx0XHRzZWxmLnByZXZpZXdDYW1lcmEucmVnaXN0ZXJIb29rcyhzZWxmLnJlbmRlcmVyKTtcblxuXHRcdFx0Ly8gc2V0IHVwIGN1cnNvciBlbXVsYXRpb25cblx0XHRcdGFsdHNwYWNlLnV0aWxpdGllcy5zaGltcy5jdXJzb3IuaW5pdChzZWxmLnNjZW5lLCBzZWxmLnByZXZpZXdDYW1lcmEsIHtyZW5kZXJlcjogc2VsZi5yZW5kZXJlcn0pO1xuXHRcdFxuXHRcdFx0Ly8gc3R1YiBlbnZpcm9ubWVudFxuXHRcdFx0c2VsZi5lbnYgPSBPYmplY3QuZnJlZXplKHtcblx0XHRcdFx0aW5uZXJXaWR0aDogMTAyNCxcblx0XHRcdFx0aW5uZXJIZWlnaHQ6IDEwMjQsXG5cdFx0XHRcdGlubmVyRGVwdGg6IDEwMjQsXG5cdFx0XHRcdHBpeGVsc1Blck1ldGVyOiAxMDI0LzMsXG5cdFx0XHRcdHNpZDogJ2Jyb3dzZXInLFxuXHRcdFx0XHRuYW1lOiAnYnJvd3NlcicsXG5cdFx0XHRcdHRlbXBsYXRlU2lkOiAnYnJvd3Nlcidcblx0XHRcdH0pO1xuXHRcdH1cblx0fVxuXHRcdFxuXHRcdFxuXHRzdGFydCguLi5tb2R1bGVzKVxuXHR7XG5cdFx0dmFyIHNlbGYgPSB0aGlzO1xuXG5cdFx0Ly8gbWFrZSBzdXJlIHNwYWNlIGluZm8gaXMgZmlsbGVkIG91dCBiZWZvcmUgaW5pdGlhbGl6YXRpb25cblx0XHRpZighc2VsZi5lbnYpe1xuXHRcdFx0cmV0dXJuIHNlbGYuX2VudlByb21pc2UudGhlbigoKSA9PiB7IHNlbGYuc3RhcnQoLi4ubW9kdWxlcyk7IH0pO1xuXHRcdH1cblxuXHRcdC8vIGRldGVybWluZSB3aGljaCBhc3NldHMgYXJlbid0IHNoYXJlZFxuXHRcdHZhciBzaW5nbGV0b25zID0ge307XG5cdFx0bW9kdWxlcy5mb3JFYWNoKG1vZCA9PlxuXHRcdHtcblx0XHRcdGZ1bmN0aW9uIGNoZWNrQXNzZXQodXJsKXtcblx0XHRcdFx0aWYoc2luZ2xldG9uc1t1cmxdID09PSB1bmRlZmluZWQpIHNpbmdsZXRvbnNbdXJsXSA9IHRydWU7XG5cdFx0XHRcdGVsc2UgaWYoc2luZ2xldG9uc1t1cmxdID09PSB0cnVlKSBzaW5nbGV0b25zW3VybF0gPSBmYWxzZTtcblx0XHRcdH1cblx0XHRcdE9iamVjdC5rZXlzKG1vZC5hc3NldHMudGV4dHVyZXMgfHwge30pLm1hcChrID0+IG1vZC5hc3NldHMudGV4dHVyZXNba10pLmZvckVhY2goY2hlY2tBc3NldCk7XG5cdFx0XHRPYmplY3Qua2V5cyhtb2QuYXNzZXRzLm1vZGVscyB8fCB7fSkubWFwKGsgPT4gbW9kLmFzc2V0cy5tb2RlbHNba10pLmZvckVhY2goY2hlY2tBc3NldCk7XG5cdFx0fSk7XG5cblx0XHQvLyBkZXRlcm1pbmUgaWYgdGhlIHRyYWNraW5nIHNrZWxldG9uIGlzIG5lZWRlZFxuXHRcdGxldCBuZWVkc1NrZWxldG9uID0gbW9kdWxlcy5yZWR1Y2UoKG5zLG0pID0+IG5zIHx8IG0ubmVlZHNTa2VsZXRvbiwgZmFsc2UpO1xuXHRcdGlmKG5lZWRzU2tlbGV0b24gJiYgYWx0c3BhY2UuaW5DbGllbnQpe1xuXHRcdFx0YWx0c3BhY2UuZ2V0VGhyZWVKU1RyYWNraW5nU2tlbGV0b24oKS50aGVuKHNrZWwgPT4ge1xuXHRcdFx0XHRzZWxmLnNjZW5lLmFkZChza2VsKTtcblx0XHRcdFx0c2VsZi5lbnYuc2tlbCA9IHNrZWw7XG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHQvLyBjb25zdHJ1Y3QgZGlvcmFtYXNcblx0XHRtb2R1bGVzLmZvckVhY2goZnVuY3Rpb24obW9kdWxlKVxuXHRcdHtcblx0XHRcdGxldCByb290ID0gbnVsbDtcblx0XHRcdFxuXHRcdFx0aWYobW9kdWxlIGluc3RhbmNlb2YgVEhSRUUuT2JqZWN0M0QpXG5cdFx0XHR7XG5cdFx0XHRcdHJvb3QgPSBtb2R1bGU7XG5cdFx0XHR9XG5cdFx0XHRlbHNlXG5cdFx0XHR7XG5cdFx0XHRcdHJvb3QgPSBuZXcgVEhSRUUuT2JqZWN0M0QoKTtcblxuXHRcdFx0XHQvLyBoYW5kbGUgYWJzb2x1dGUgcG9zaXRpb25pbmdcblx0XHRcdFx0aWYobW9kdWxlLnRyYW5zZm9ybSl7XG5cdFx0XHRcdFx0cm9vdC5tYXRyaXguZnJvbUFycmF5KG1vZHVsZS50cmFuc2Zvcm0pO1xuXHRcdFx0XHRcdHJvb3QubWF0cml4LmRlY29tcG9zZShyb290LnBvc2l0aW9uLCByb290LnF1YXRlcm5pb24sIHJvb3Quc2NhbGUpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGVsc2Uge1xuXHRcdFx0XHRcdGlmKG1vZHVsZS5wb3NpdGlvbil7XG5cdFx0XHRcdFx0XHRyb290LnBvc2l0aW9uLmZyb21BcnJheShtb2R1bGUucG9zaXRpb24pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZihtb2R1bGUucm90YXRpb24pe1xuXHRcdFx0XHRcdFx0cm9vdC5yb3RhdGlvbi5mcm9tQXJyYXkobW9kdWxlLnJvdGF0aW9uKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gaGFuZGxlIHJlbGF0aXZlIHBvc2l0aW9uaW5nXG5cdFx0XHRpZihtb2R1bGUudmVydGljYWxBbGlnbil7XG5cdFx0XHRcdGxldCBoYWxmSGVpZ2h0ID0gc2VsZi5lbnYuaW5uZXJIZWlnaHQvKDIqc2VsZi5lbnYucGl4ZWxzUGVyTWV0ZXIpO1xuXHRcdFx0XHRzd2l0Y2gobW9kdWxlLnZlcnRpY2FsQWxpZ24pe1xuXHRcdFx0XHRjYXNlICd0b3AnOlxuXHRcdFx0XHRcdHJvb3QudHJhbnNsYXRlWShoYWxmSGVpZ2h0KTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSAnYm90dG9tJzpcblx0XHRcdFx0XHRyb290LnRyYW5zbGF0ZVkoLWhhbGZIZWlnaHQpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlICdtaWRkbGUnOlxuXHRcdFx0XHRcdC8vIGRlZmF1bHRcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0XHRjb25zb2xlLndhcm4oJ0ludmFsaWQgdmFsdWUgZm9yIFwidmVydGljYWxBbGlnblwiIC0gJywgbW9kdWxlLnZlcnRpY2FsQWxpZ24pO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHNlbGYuc2NlbmUuYWRkKHJvb3QpO1xuXG5cdFx0XHRpZihzZWxmLnByZXZpZXdDYW1lcmEpe1xuXHRcdFx0XHRyb290LmFkZCggbmV3IFRIUkVFLkF4aXNIZWxwZXIoMSkgKTtcblx0XHRcdH1cblx0XHRcblx0XHRcdHNlbGYubG9hZEFzc2V0cyhtb2R1bGUuYXNzZXRzLCBzaW5nbGV0b25zKS50aGVuKChyZXN1bHRzKSA9PiB7XG5cdFx0XHRcdG1vZHVsZS5pbml0aWFsaXplKHNlbGYuZW52LCByb290LCByZXN1bHRzKTtcblx0XHRcdH0pO1xuXHRcdH0pO1xuXHRcdFxuXHRcdC8vIHN0YXJ0IGFuaW1hdGluZ1xuXHRcdHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24gYW5pbWF0ZSh0aW1lc3RhbXApXG5cdFx0e1xuXHRcdFx0d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShhbmltYXRlKTtcblx0XHRcdHNlbGYuc2NlbmUudXBkYXRlQWxsQmVoYXZpb3JzKCk7XG5cdFx0XHRpZih3aW5kb3cuVFdFRU4pIFRXRUVOLnVwZGF0ZSgpO1xuXHRcdFx0c2VsZi5yZW5kZXJlci5yZW5kZXIoc2VsZi5zY2VuZSwgc2VsZi5wcmV2aWV3Q2FtZXJhKTtcblx0XHR9KTtcblx0fVxuXG5cdGxvYWRBc3NldHMobWFuaWZlc3QsIHNpbmdsZXRvbnMpXG5cdHtcblx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0XHRjbGFzcyBQcm9taXNlc0ZpbmlzaGVkIGV4dGVuZHMgUHJvbWlzZSB7XG5cdFx0XHRjb25zdHJ1Y3RvcihhcnIpe1xuXHRcdFx0XHRzdXBlcigocmVzb2x2ZSwgcmVqZWN0KSA9PlxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0dmFyIHdhaXRpbmcgPSBhcnIubGVuZ3RoO1xuXHRcdFx0XHRcblx0XHRcdFx0XHRmdW5jdGlvbiBjaGVja0RvbmUoKXtcblx0XHRcdFx0XHRcdGlmKC0td2FpdGluZyA9PT0gMClcblx0XHRcdFx0XHRcdFx0cmVzb2x2ZSgpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGFyci5mb3JFYWNoKHAgPT4geyBwLnRoZW4oY2hlY2tEb25lLCBjaGVja0RvbmUpOyB9KTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+XG5cdFx0e1xuXHRcdFx0Ly8gcG9wdWxhdGUgY2FjaGVcblx0XHRcdFByb21pc2VzRmluaXNoZWQoW1xuXG5cdFx0XHRcdC8vIHBvcHVsYXRlIG1vZGVsIGNhY2hlXG5cdFx0XHRcdFByb21pc2UuYWxsKE9iamVjdC5rZXlzKG1hbmlmZXN0Lm1vZGVscyB8fCB7fSkubWFwKGlkID0+XG5cdFx0XHRcdHtcblx0XHRcdFx0XHR2YXIgdXJsID0gbWFuaWZlc3QubW9kZWxzW2lkXTtcblx0XHRcdFx0XHRpZihzZWxmLmFzc2V0Q2FjaGUubW9kZWxzW3VybF0pXG5cdFx0XHRcdFx0XHRyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHNlbGYuYXNzZXRDYWNoZS5tb2RlbHNbdXJsXSk7XG5cdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0cmV0dXJuIExvYWRlcnMuTW9kZWxQcm9taXNlKHVybCkudGhlbihtb2RlbCA9PiB7XG5cdFx0XHRcdFx0XHRcdHNlbGYuYXNzZXRDYWNoZS5tb2RlbHNbdXJsXSA9IG1vZGVsO1xuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH0pKSxcblxuXHRcdFx0XHQvLyBwb3B1bGF0ZSBleHBsaWNpdCB0ZXh0dXJlIGNhY2hlXG5cdFx0XHRcdFByb21pc2UuYWxsKE9iamVjdC5rZXlzKG1hbmlmZXN0LnRleHR1cmVzIHx8IHt9KS5tYXAoaWQgPT5cblx0XHRcdFx0e1xuXHRcdFx0XHRcdHZhciB1cmwgPSBtYW5pZmVzdC50ZXh0dXJlc1tpZF07XG5cdFx0XHRcdFx0aWYoc2VsZi5hc3NldENhY2hlLnRleHR1cmVzW3VybF0pXG5cdFx0XHRcdFx0XHRyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHNlbGYuYXNzZXRDYWNoZS50ZXh0dXJlc1t1cmxdKTtcblx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHRyZXR1cm4gTG9hZGVycy5UZXh0dXJlUHJvbWlzZSh1cmwpLnRoZW4odGV4dHVyZSA9PiB7XG5cdFx0XHRcdFx0XHRcdHNlbGYuYXNzZXRDYWNoZS50ZXh0dXJlc1t1cmxdID0gdGV4dHVyZTtcblx0XHRcdFx0XHRcdH0pO1x0XHRcdFxuXHRcdFx0XHR9KSlcblx0XHRcdF0pXG5cblx0XHRcdC50aGVuKCgpID0+XG5cdFx0XHR7XG5cdFx0XHRcdC8vIHBvcHVsYXRlIHBheWxvYWQgZnJvbSBjYWNoZVxuXHRcdFx0XHR2YXIgcGF5bG9hZCA9IHttb2RlbHM6IHt9LCB0ZXh0dXJlczoge319O1xuXG5cdFx0XHRcdGZvcihsZXQgaSBpbiBtYW5pZmVzdC5tb2RlbHMpe1xuXHRcdFx0XHRcdGxldCB1cmwgPSBtYW5pZmVzdC5tb2RlbHNbaV07XG5cdFx0XHRcdFx0bGV0IHQgPSBzZWxmLmFzc2V0Q2FjaGUubW9kZWxzW3VybF07XG5cdFx0XHRcdFx0cGF5bG9hZC5tb2RlbHNbaV0gPSB0ID8gc2luZ2xldG9uc1t1cmxdID8gdCA6IHQuY2xvbmUoKSA6IG51bGw7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRmb3IobGV0IGkgaW4gbWFuaWZlc3QudGV4dHVyZXMpe1xuXHRcdFx0XHRcdGxldCB1cmwgPSBtYW5pZmVzdC50ZXh0dXJlc1tpXTtcblx0XHRcdFx0XHRsZXQgdCA9IHNlbGYuYXNzZXRDYWNoZS50ZXh0dXJlc1t1cmxdO1xuXHRcdFx0XHRcdHBheWxvYWQudGV4dHVyZXNbaV0gPSB0ID8gc2luZ2xldG9uc1t1cmxdID8gdCA6IHQuY2xvbmUoKSA6IG51bGw7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXNvbHZlKHBheWxvYWQpO1xuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdH1cblxufTtcbiJdLCJuYW1lcyI6WyJNb2RlbFByb21pc2UiLCJ1cmwiLCJzdXBlciIsInRoaXMiLCJyZXNvbHZlIiwicmVqZWN0IiwidGVzdCIsIlRIUkVFIiwiZ2xURkxvYWRlciIsImxldCIsImxvYWRlciIsImxvYWQiLCJyZXN1bHQiLCJzY2VuZSIsImNoaWxkcmVuIiwiY29uc29sZSIsImVycm9yIiwiQ29sbGFkYUxvYWRlciIsIlByb21pc2UiLCJUZXh0dXJlUHJvbWlzZSIsIlRleHR1cmVMb2FkZXIiLCJQcmV2aWV3Q2FtZXJhIiwiZm9jdXMiLCJ2aWV3U2l6ZSIsImxvb2tEaXJlY3Rpb24iLCJzZXR0aW5ncyIsIndpbmRvdyIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJKU09OIiwicGFyc2UiLCJWZWN0b3IzIiwiZnJvbUFycmF5IiwiX3ZpZXdTaXplIiwiX2ZvY3VzIiwiX2xvb2tEaXJlY3Rpb24iLCJncmlkSGVscGVyIiwiR3JpZEhlbHBlciIsInByb3RvdHlwZUFjY2Vzc29ycyIsInZhbCIsInJlY29tcHV0ZVZpZXdwb3J0IiwiY29weSIsInJlZ2lzdGVySG9va3MiLCJyZW5kZXJlciIsInNlbGYiLCJkb2N1bWVudCIsImJvZHkiLCJwYXJlbnRFbGVtZW50Iiwic3R5bGUiLCJoZWlnaHQiLCJtYXJnaW4iLCJvdmVyZmxvdyIsImluZm8iLCJjcmVhdGVFbGVtZW50IiwiaW5uZXJIVE1MIiwiam9pbiIsIk9iamVjdCIsImFzc2lnbiIsInBvc2l0aW9uIiwidG9wIiwibGVmdCIsImFwcGVuZENoaWxkIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJkcmFnU3RhcnQiLCJmb2N1c1N0YXJ0IiwiYnV0dG9uIiwieCIsImNsaWVudFgiLCJ5IiwiY2xpZW50WSIsImNsb25lIiwidyIsImgiLCJwaXhlbHNQZXJNZXRlciIsIk1hdGgiLCJzcXJ0IiwiZHgiLCJkeSIsInJpZ2h0IiwiY3Jvc3NWZWN0b3JzIiwidXAiLCJhZGQiLCJtdWx0aXBseVNjYWxhciIsImRlbHRhWSIsImtleSIsImFwcGx5QXhpc0FuZ2xlIiwiUEkiLCJzZXRTaXplIiwicmF0aW8iLCJ3aWR0aCIsImJvdHRvbSIsInVwZGF0ZVByb2plY3Rpb25NYXRyaXgiLCJzdWIiLCJhYnMiLCJub3JtYWxpemUiLCJkb3QiLCJzZXQiLCJsb29rQXQiLCJzZXRJdGVtIiwic3RyaW5naWZ5IiwidG9BcnJheSIsIk9ydGhvZ3JhcGhpY0NhbWVyYSIsIkRpb3JhbWEiLCJyZWYiLCJhc3NldENhY2hlIiwibW9kZWxzIiwidGV4dHVyZXMiLCJ2aWRlb3MiLCJTY2VuZSIsImFsdHNwYWNlIiwiaW5DbGllbnQiLCJnZXRUaHJlZUpTUmVuZGVyZXIiLCJfZW52UHJvbWlzZSIsImFsbCIsImdldEVuY2xvc3VyZSIsImdldFNwYWNlIiwidGhlbiIsInMiLCJlbnYiLCJmcmVlemUiLCJzY2FsZSIsIldlYkdMUmVuZGVyZXIiLCJjbGllbnRXaWR0aCIsImNsaWVudEhlaWdodCIsInNldENsZWFyQ29sb3IiLCJiZ0NvbG9yIiwiZG9tRWxlbWVudCIsInByZXZpZXdDYW1lcmEiLCJncmlkT2Zmc2V0IiwidXRpbGl0aWVzIiwic2hpbXMiLCJjdXJzb3IiLCJpbml0IiwiaW5uZXJXaWR0aCIsImlubmVySGVpZ2h0IiwiaW5uZXJEZXB0aCIsInNpZCIsIm5hbWUiLCJ0ZW1wbGF0ZVNpZCIsInN0YXJ0IiwibW9kdWxlcyIsInNpbmdsZXRvbnMiLCJmb3JFYWNoIiwibW9kIiwiY2hlY2tBc3NldCIsInVuZGVmaW5lZCIsImtleXMiLCJhc3NldHMiLCJtYXAiLCJrIiwibmVlZHNTa2VsZXRvbiIsInJlZHVjZSIsIm5zIiwibSIsImdldFRocmVlSlNUcmFja2luZ1NrZWxldG9uIiwic2tlbCIsIm1vZHVsZSIsInJvb3QiLCJPYmplY3QzRCIsInRyYW5zZm9ybSIsIm1hdHJpeCIsImRlY29tcG9zZSIsInF1YXRlcm5pb24iLCJyb3RhdGlvbiIsInZlcnRpY2FsQWxpZ24iLCJoYWxmSGVpZ2h0IiwidHJhbnNsYXRlWSIsIndhcm4iLCJBeGlzSGVscGVyIiwibG9hZEFzc2V0cyIsInJlc3VsdHMiLCJpbml0aWFsaXplIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiYW5pbWF0ZSIsInRpbWVzdGFtcCIsInVwZGF0ZUFsbEJlaGF2aW9ycyIsIlRXRUVOIiwidXBkYXRlIiwicmVuZGVyIiwibWFuaWZlc3QiLCJQcm9taXNlc0ZpbmlzaGVkIiwiYXJyIiwiY2hlY2tEb25lIiwid2FpdGluZyIsImxlbmd0aCIsInAiLCJpZCIsIkxvYWRlcnMuTW9kZWxQcm9taXNlIiwibW9kZWwiLCJMb2FkZXJzLlRleHR1cmVQcm9taXNlIiwidGV4dHVyZSIsInBheWxvYWQiLCJpIiwidCJdLCJtYXBwaW5ncyI6Im1DQUVBLElBQU1BLGVBQTZCLFdBQ3RCQyxHQUNYQyxPQUFNQyxLQUFBLFNBQUNDLEVBQVNDLEdBRWYsR0FBRyxXQUFXQyxLQUFLTCxHQUNsQixHQUFHTSxNQUFNQyxXQUFXLENBQ25CQyxHQUFJQyxHQUFTLEdBQUlILE9BQU1DLFVBQ3ZCRSxHQUFPQyxLQUFLVixFQUFLLFNBQUNXLEdBQ2pCUixFQUFRUSxFQUFPQyxNQUFNQyxTQUFTLEdBQUdBLFNBQVMsVUFJM0NDLFNBQVFDLE1BQU0sZ0NBQWdDZixtQkFDOUNJLFFBR0csSUFBRyxVQUFVQyxLQUFLTCxHQUN0QixHQUFHTSxNQUFNVSxjQUFjLENBQ3RCUixHQUFJQyxHQUFTLEdBQUlILE9BQU1VLGFBQ3ZCUCxHQUFPQyxLQUFLVixFQUFLLFNBQUFXLFNBQVVSLEdBQVFRLEVBQU9DLE1BQU1DLFNBQVMsS0FBSyxLQUFNVCxPQUdwRVUsU0FBUUMsTUFBTSxtQ0FBbUNmLG1CQUNqREksdUdBdkJzQmEsU0E4QnJCQyxjQUErQixXQUN4QmxCLEdBQ1hDLE9B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
